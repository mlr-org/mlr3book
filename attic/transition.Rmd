## mlr -> mlr3 Transition Guide {#transition}

In case you have already worked with `r mlr_pkg("mlr")`, you may want to quickstart with `r mlr_pkg("mlr3")` by looking up the specific equivalent of an element of `r mlr_pkg("mlr")` in the new version `r mlr_pkg("mlr3")`.
For this, you can use the following table.
This table is not complete but should give you an overview about how `r mlr_pkg("mlr3")` is organized.

```{r 05-technical-065, echo = FALSE}
# t = "
#     category , mlr             , mlr3              , note
#     Task     , makeClassifTask , TaskClassif$new() , NA
#     Task     , RegrTask        , TaskRegr          , Class
#     Task     , makeRegrTaskm   , TaskRegr$new()    , NA
#     "
# t = read.table(text =  t, sep = ",", header = TRUE)
# t = knitr::kable(t)
# kableExtra::collapse_rows(t, columns = 1)

t = as.data.frame(mlr3misc::rowwise_table(
  ~Category,          ~mlr,                               ~mlr3,                               ~Note,
  "General / Helper", "getCacheDir() / deleteCacheDir()", "Not yet implemented",                 "---",
  "General / Helper", "configureMlr()",                   "Learner$param_set$values <-",         "not equivalent",
  "General / Helper", "getMlrOptions()",                  "Learner$param_set",                   "not equivalent",
  "General / Helper", "createDummyFeatures()",            "Not yet implemented",                 mlr_pkg("mlr3pipelines"),
  "General / Helper", "crossover()",                      ref("PipeOpSubsample"),                mlr_pkg("mlr3pipelines"),
  "General / Helper", "downsample()",                     ref("PipeOpSubsample"),                mlr_pkg("mlr3pipelines"),
  "General / Helper", "generateCalibrationData()",        "Not yet implemented",                 "---",
  "General / Helper", "generateCritDifferencesData()",    "Not yet implemented",                 "---",
  "General / Helper", "generateLearningCurveData()",      "Not yet implemented",                 mlr_pkg("mlr3viz"),
  "General / Helper", "generatePartialDependenceData()",  "Not yet implemented",                 mlr_pkg("mlr3viz"),
  "General / Helper", "generateThreshVsPerfData()",       "Not yet implemented",                 mlr_pkg("mlr3viz"),
  "General / Helper", "getCaretParamSet()",               "Not used anymore",                    "---",
  "General / Helper", "reimpute() / impute()",            ref("PipeOpImpute"), mlr_pkg("mlr3pipelines"),
  "General / Helper", "fn() / fnr() / fp() / fpr()",      paste(mlr3misc::map_dtc(c("mlr3measures::fn", "mlr3measures::fnr",
                                                                                    "mlr3measures::fp", "mlr3measures::fpr"),
                                                                                  ref), collapse = " / "), mlr_pkg("mlr3measures"),
  "General / Helper", "tn() / tnr() / tp() / tpr()",      paste(mlr3misc::map_dtc(c("mlr3measures::tn", "mlr3measures::tnr",
                                                                                    "mlr3measures::tp", "mlr3measures::tpr"),
                                                                                  ref), collapse = " / "), mlr_pkg("mlr3measures"),
  "General / Helper", "summarizeColumns()",               "summary(as.data.table(task))",        "[data.table](https://cran.r-project.org/package=data.table)",
  "General / Helper", "summarizeLevels()",                "???",                                 "Check discrete features in summary above",
  
  "Task", "Task",                                 ref("Task"),                                               "---",
  "Task", "SurvTask",                             ref("TaskSurv"),                                      mlr_pkg("mlr3proba"),
  "Task", "ClusterTask",                          ref("Task"),                                               "---",
  "Task", "MultilabelTask",                       "mlr_tasks",                                                     "---",
  "Task", "SpatialTask",                          ref("mlr3spatiotempcv::mlr_tasks_ecuador"),                      mlr_pkg("mlr3spatiotempcv"),
  "Task", "Example tasks (iris.task,mtcars.task)","mlr_tasks$get('iris') / tsk('iris')",                           "---",
  "Task", "convertMLBenchObjToTask()",            ref("TaskGenerator"),                                      mlr_pkg("mlr3"),
  "Task", "dropFeatures()",                       "Task$select()",                                                 "---",
  "Task", "getTaskCosts()",                       ref("mlr_measures_classif.costs"),                         "---",
  "Task", "getTaskData()",                        "Task$data()",                                                   "---",
  "Task", "getTaskDesc() / getTaskDescription()", "Task$print()",                                                  "---",
  "Task", "getTaskFeatureNames()",                "Task$feature_names",                                            "---",
  "Task", "getTaskFormula()",                     "Task$formula",                                                  "---",
  "Task", "getTaskId()",                          "Task$id",                                                       "---",
  "Task", "getTaskNFeats()",                      "length(Task$feature_names)",                                    "---",
  "Task", "getTaskSize()",                        "Task$nrow()",                                                   "---",
  "Task", "getTaskTargetNames()",                 "Task$target_names",                                             "---",
  "Task", "getTaskTargets()",                     "as.data.table(Task)[,Task$feature_names,with = FALSE]",         "---",
  "Task", "getTaskType()",                        "Task$task_type",                                                "---",
  "Task", "oversample() / undersample()",         "PipeOpSubsample$new(param_vals = list(frac > 1, replace = T)),
                                                   PipeOpSubsample$new(param_vals = list(frac < 1, replace = F))", ref("mlr_pipeops_subsample"),
  
  "Learner", "Learner",                                    ref("Learner"),                    "---",
  "Learner", "helpLearner()",                              "learner$help()",                        "---",
  "Learner", "helpLearnerParam()",                         "learner$param_set$print()",             "---",
  "Learner", "getLearnerId()",                             "Learner$id",                            "---",
  "Learner", "setLearnerId()",                             "Learner$id",                            "---",
  "Learner", "getLearnerModel()",                          "Learner$model",                         "---",
  "Learner", "getLearnerNote()",                           "Not used anymore",                      "---",
  "Learner", "getLearnerPackages()",                       "Learner$packages",                      "---",
  "Learner", "getLearnerParVals() / getLearnerParamSet()", "Learner$param_set",                     "---",
  "Learner", "getLearnerPredictType()",                    "Learner$predict_type",                  "---",
  "Learner", "getLearnerShortName()",                      "Learner$predict_type",                  "---",
  "Learner", "getLearnerType()",                           "Learner$Type",                          "---",
  "Learner", "setPredictType()",                           "Learner$Type",                          "---",
  "Learner", "getLearnerProperties",                       "learner$properties",                    "---",
  "Learner", "getParamSet()",                              "Learner$param_set",                     "---",
  "Learner", "trainLearner()",                             "Learner$train()",                       "---",
  "Learner", "predictLearner()",                           "Learner$predict()",                     "---",
  "Learner", "makeRLearner*()",                            "Learner",                               "---",
  "Learner", "generateLearningCurveData()",                "Not yet implemented",                   paste(mlr_pkg("mlr3viz"), "(\ntwice in list)"),
  "Learner", "FailureModel",                               ref("mlr_learners_classif.debug"), "---" ,
  "Learner", "getFailureModelDump()",                      "learner$log",                           paste("use", ref("encapsulate"), "for logging Errors"),
  "Learner", "getFailureModelMsg()",                       "learner$log",                           "---",
  "Learner", "isFailureModel()",                           "if(learner$modell == NULL)",            "After training the modell",
  "Learner", "makeLearner() / makeLearners()",             "mlr_learners$get();lrn(); lrns()",      ref("mlr_learners"),

  "Train/Predict/Resample", "train()",                                                            "Experiment$train()",                    "---",
  "Train/Predict/Resample", "predict()",                                                          "Experiment$predict()",                  "---",
  "Train/Predict/Resample", "performance()",                                                      "Experiment$score()",                    "---",
  "Train/Predict/Resample", "makeResampleDesc()",                                                 ref("Resampling"),                 "---",
  "Train/Predict/Resample", "resample()",                                                         ref("resample"),                   "---",
  "Train/Predict/Resample", "ResamplePrediction",                                                 ref("ResampleResult"),             "---",
  "Train/Predict/Resample", "Aggregation / makeAggregation",                                      "ResampleResult$aggregate()",            "---",
  "Train/Predict/Resample", "asROCRPrediction()",                                                 "Not yet implemented",                   "---",
  "Train/Predict/Resample", "ConfusionMatrix / getConfMatrix() / calculateConfusionMatrix()",     "ResampleResult$prediction()$confusion", "---",
  "Train/Predict/Resample", "calculateROCMeasures()",                                             "Not yet implemented",                   mlr_pkg("mlr3measures"),
  "Train/Predict/Resample", "estimateRelativeOverfitting()",                                      "msr('regr.rse/rae')",                   mlr_pkg("mlr3measures"),
  "Train/Predict/Resample", "estimateResidualVariance()",                                         "msr('regr.mse)",                        mlr_pkg("mlr3measures"),
  "Train/Predict/Resample", "getDefaultMeasure()",                                                "Prediction$score()",                    "---",
  "Train/Predict/Resample", "getMeasureProperties()",                                             "msr(Measure)$properties",               ref("mlr_measures"),
  "Train/Predict/Resample", "getPredictionResponse() / getPredictionSE() / getPredictionTruth()", "learner$predict(task, row_id)$response
                                                                                                   learner$predict(task, row_id)$se
                                                                                                   learner$predict(task, row_id)$truth",  "---",
  "Train/Predict/Resample", "getPredictionDump()",                                                "learner$log",                          ref("encapsulate"),
  "Train/Predict/Resample", "getPredictionTaskDesc()",                                            "prediction$task_type",                 "not equivalent",
  "Train/Predict/Resample", "getRRDump()",                                                        "ResampleResult$errors",                "---",
  "Train/Predict/Resample", "getRRPredictionList()",                                              "ResampleResult$predictions()",         "---",
  "Train/Predict/Resample", "getRRPredictions()",                                                 "ResampleResult$prediction",            "---",
  "Train/Predict/Resample", "getRRTaskDesc() / getRRTaskDescription()",                           "ResampleResult$task$print()",          "---",

  "Benchmark", "benchmark()",                                                       ref("benchmark()"),                         "---",
  "Benchmark", "batchmark() / reduceBatchmarkResults()",                            "not used anymore ",                              "---",
  "Benchmark", "BenchmarkResult",                                                   ref("BenchmarkResult"),                     "---",
  "Benchmark", "convertBMRToRankMatrix()",                                          "= BenchmarkrResult$aggregate
                                                                                    [, .(learner_id, rank_train = rank(-Measure1),
                                                                                    rank_test = rank(-Measure2)), by = task_id]",     "---",
                                                                                                               
  "Benchmark", "convertMLBenchObjToTask()",                                         "twice in list",                                  "---",
  "Benchmark", "getBMRAggrPerformances()",                                          "BenchmarkResult$aggregate()",                    "---",
  "Benchmark", "getBMRFeatSelResults()",                                            "Not yet implemented",                            mlr_pkg("mlr3filters"),
  "Benchmark", "getBMRFilteredFeatures()",                                          "Not yet implemented",                            mlr_pkg("mlr3filters"),
  "Benchmark", "getBMRLearners() / getBMRLearnerIds() / getBMRLearnerShortNames()", "BenchmarkResult$learners",                       "---",
  "Benchmark", "getBMRMeasures() / getBMRMeasureIds()",                             "BenchmarkResult$measures",                       "---",
  "Benchmark", "getBMRModels()",                                                    "BenchmarkResult$data$learner[[1]]$model",        "---",
  "Benchmark", "getBMRPerformances()",                                              "BenchmarkResult$data$performance",               "---",
  "Benchmark", "getBMRTaskDescriptions() / getBMRTaskDescs() / getBMRTaskIds()",    "BenchmarkResult$tasks",                          "---",
  "Benchmark", "getBMRTuneResults()",                                               "Not yet implemented",                            "---",
  "Benchmark", "getBMRPredictions()",                                               "as.data.table(BenchmarkResult)$prediction",      "---",
  "Benchmark", "friedmanTestBMR()",                                                 "friedman.test.BenchmarkResult(BenchmarkResult)", "---",
  "Benchmark", "mergeBenchmarkResults()",                                           "BenchmarkResult$combine()",                      "---",
  "Benchmark", "plotBMRBoxplots()",                                                 "autoplot.benchmark(BenchmarkResults)",           mlr_pkg("mlr3viz"),
  "Benchmark", "plotBMRRanksAsBarChart()",                                          "Not yet implemented",                            mlr_pkg("mlr3viz"),
  "Benchmark", "plotBMRSummary()",                                                  "Not yet implemented",                            mlr_pkg("mlr3viz"),
  "Benchmark", "plotResiduals()",                                                   "Not yet implemented",                            mlr_pkg("mlr3viz"),

  "Parameter Specification", "ParamHelpers::makeNumericParam()",        "ParamDbl$new()",          mlr_pkg("paradox"),
  "Parameter Specification", "ParamHelpers::makeNumericVectorParam()",  "ParamDbl$new()",          mlr_pkg("paradox"),
  "Parameter Specification", "ParamHelpers::makeIntegerParam()",        "paradox::ParamInt$new()", mlr_pkg("paradox"),
  "Parameter Specification", "ParamHelpers::makeIntegerVectorParam()",  "paradox::ParamInt$new()", mlr_pkg("paradox"),
  "Parameter Specification", "ParamHelpers::makeDiscreteParam()",       "paradox::ParamFct$new()", mlr_pkg("paradox"),
  "Parameter Specification", "ParamHelpers::makeDiscreteVectorParam()", "paradox::ParamFct$new()", mlr_pkg("paradox"),
  "Parameter Specification", "ParamHelpers::makeLogicalParam()",        "paradox::ParamLgl$new()", mlr_pkg("paradox"),
  "Parameter Specification", "ParamHelpers::makeLogicalVectorParam()",  "paradox::ParamLgl$new()", mlr_pkg("paradox"),

  "Preprocessing", "---", "---", "---",
  "Preprocessing", "---", "---", "---",

  "Feature Selection", "makeFeatSelControlExhaustive()", "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "makeFeatSelControlRandom()",     "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "makeFeatSelControlSequential()", "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "makeFeatSelControlGA()",         "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "makeFilter()",                   "Filter$new()",        mlr_pkg("mlr3filters"),
  "Feature Selection", "FeatSelResult",                  "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "listFilterMethods()",            ref("mlr_filters"), mlr_pkg("mlr3filters"),
  "Feature Selection", "analyzeFeatSelResult()",         "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "getBMRFeatSelResults()",         "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "getBMRFilteredFeatures()",       "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "getFeatSelResult()",             "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "getFeatureImportance()",         "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "getFilteredFeatures()",          "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "makeFeatSelWrapper()",           "Not used anymore",    mlr_pkg("mlr3filters"),
  "Feature Selection", "makeFilterWrapper()",            "Not used anymore",    mlr_pkg("mlr3filters"),
  "Feature Selection", "getResamplingIndices()",         "Not yet implemented", "",
  "Feature Selection", "selectFeatures()",               "Not yet implemented", mlr_pkg("mlr3filters"),
  "Feature Selection", "filterFeatures()",               "Filter$filter_*()",   mlr_pkg("mlr3filters"),
  "Feature Selection", "generateFilterValuesData()",     "Filter$calculate()",  mlr_pkg("mlr3filters"),
  "Feature Selection", "",                               "",                    "",

  "Tuning", "getTuneResult()",                 "Instance$result",        mlr_pkg("mlr3tuning"),
  "Tuning", "getTuneResultOptPath()",          "Instance$archive()",     mlr_pkg("mlr3tuning"),
  "Tuning", "makeTuneControl*()",              ref("Tuner"), mlr_pkg("mlr3tuning"),
  "Tuning", "makeTuneMultiCritControl*()",     ref("Tuner"), mlr_pkg("mlr3tuning"),

  "Parallelization", "ParallelMap::parallelStart*(), parallelMap::parallelStop()", "future::plan() / future", "",
  "Parallelization", "",                             "",                           "",

  "Plotting", "plotBMRBoxplots()",         "twice in list",                                    mlr_pkg("mlr3viz"),
  "Plotting", "plotBMRRanksAsBarChart()",  "twice in list",                                    mlr_pkg("mlr3viz"),
  "Plotting", "plotBMRSummary()",          "twice in list",                                    mlr_pkg("mlr3viz"),
  "Plotting", "plotCalibration()",         "Not yet implemented" ,                             mlr_pkg("mlr3viz"),
  "Plotting", "plotCritDifferences()",     "Not yet implemented" ,                             mlr_pkg("mlr3viz"),
  "Plotting", "plotFilterValues()",        "autoplot.Filter",                                  mlr_pkg("mlr3viz"),
  "Plotting", "plotHyperParsEffect()",     "Not yet implemented" ,                             mlr_pkg("mlr3viz"),
  "Plotting", "plotLearnerPrediction()",   "plot_learner_prediction(Learner, Task)",           mlr_pkg("mlr3viz"),
  "Plotting", "plotLearningCurve()",       "Not yet implemented",                              mlr_pkg("mlr3viz"),
  "Plotting", "plotPartialDependence()",   "autoplot(task, type = 'pairs')",                   mlr_pkg("mlr3viz"),
  "Plotting", "plotResiduals()",           "autoplot.PredictionRegr(object)",                  mlr_pkg("mlr3viz"),
  "Plotting", "plotROCCurves()",           "autoplot.PredictionClassif(object, type = 'roc')", mlr_pkg("mlr3viz"),
  "Plotting", "plotThreshVsPerf()",        "Not yet implemented",                              mlr_pkg("mlr3viz"),
  "Plotting", "plotTuneMultiCritResult()", "Not yet implemented",                              mlr_pkg("mlr3viz"),

  "FDA", "extractFDAFPCA()",                 "Not yet implemented",                 "mlr3fda",
  "FDA", "extractFDAFourier()",              "Not yet implemented",                 "mlr3fda",
  "FDA", "extractFDAMultiResFeatures()",     "Not yet implemented",                 "mlr3fda",
  "FDA", "extractFDAWavelets()",             "Not yet implemented",                 "mlr3fda"
))

escape = function(x) {
  gsub("\\$", "\\\\$", x)
}
t = mlr3misc::map_dtc(t, escape)
t = knitr::kable(t)

kableExtra::collapse_rows(t, columns = 1) %>%
  kableExtra::kable_styling(bootstrap_options = "basic", full_width = T,
    font_size = 13)
```

