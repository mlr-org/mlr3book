# Preface {.unnumbered}
{{< include _setup.qmd >}}

Welcome to the **M**achine **L**earning in **R** universe (mlr3verse).
In this book we will guide you through the functionality offered by `r mlr3` and the packages in the `r mlr3verse` step by step.

## Target audience

We assume that users of `r mlr3` have taken an introductory machine learning course or have the equivalent expertise and some basic experience with R.
A background in computer science or statistics is beneficial for understanding the advanced functionality described in the later chapters of this book, but not required.
A comprehensive introduction for those new to machine learning can be found in @james_introduction_2014.
@Wickham2017R provides a comprehensive introduction to data science in R.

`r mlr3` provides a domain-specific language for machine learning in R that makes it possible to do everything from simple exercises to complex projects.
We target both practitioners and researchers who many want to quickly apply machine learning algorithms in small experiments or those who want to implement, benchmark, and compare their new methods in a structured environment.

## How to use this book {#howtouse}

The mlr3 ecosystem is the result of many years of methodological and applied research and improving the design and implementation of the packages over the years.
This book describes the resulting features of the `r mlr3verse` and discusses best practices for ML, technical implementation details, extension guidelines, and in-depth considerations for optimizing ML.
It is suitable for a wide range of readers and levels of ML expertise.

@sec-introduction, @sec-basics, and @sec-performance cover the basics of mlr3.
These chapters are essential to understanding the core infrastrucure of ML in mlr3.
We recommend that all readers study these chapters to become familiar with basic mlr3 terminology, syntax, and style.
@sec-optimization, @sec-feature-selection, @sec-pipelines, and @sec-preprocessing contain more advanced implementation details and some ML theory.
@sec-special delves into detail on domain-specific methods that are implemented in our extension packages.
Readers may choose to selectively read sections in this chapter depending on your use cases (i.e., if you have domain-specific problems to tackle), or to use these as introductions to new domains to explore.
@sec-technical contains technical implementation details that are essential reading for advanced users who require parallelisation, custom error handling, and fine control over hyperparameters and large databases.
@sec-interpretation discusses packages that can be integrated with mlr3 to provide model-agnostic interpretability methods.
Finally, anyone who would like to implement their own learners or measures should read @sec-extending.

Of course, you can also read the book cover to cover from start to finish.
We have marked 'optional' sections that are particularly complex, with respect to either technical or methodological detail, which could be skipped on a first read.
Readers that are interested technical detail will likely want to pay attention to the tables at the end of each chapter that show the relationship between our S3 'sugar' functions and the underlying R6 classes; this is explained in more detail in @sec-introduction.

Each chapter includes tutorials, API references, explanations of methodologies, and exercises to test yourself on what you have learnt.
You can find the solutions to these exercises in @sec-solutions.

If you want to reproduce any of the results in this book, note that at the start of each chapter we run `set.seed(123)` and the `sessionInfo` at the time of publication is printed in @sec-session-info.

## Installation guidelines {#installguide}

All packages in the mlr3 ecosystem can be installed from GitHub and R-universe; the majority (but not all) packages can also be installed from CRAN.
We recommend adding the mlr-org R-universe[^runiverse] to your R options so that you can install all packages with `install.packages()` without having to worry which package repository it comes from.
To do this, install the `r ref_pkg("usethis")` package and run the following:

[^runiverse]: R-universe is an alternative package repository to CRAN. The bit of code below tells R to look at both R-universe and CRAN when trying to install packages. R will always install the latest version of a package.

```{r universe1, eval = FALSE}
usethis::edit_r_profile()
```

In the file that opens add or change the `repos` argument in `options` so it looks something like this (you might need to add the full code block below or just edit the existing `options` function).

```{r universe2, eval = FALSE}
options(repos = c(
  mlrorg = "https://mlr-org.r-universe.dev",
  CRAN = "https://cloud.r-project.org/"
))
```

Save the file, restart your R session, and you are ready to go!

```{r install verse, eval = FALSE}
install.packages("mlr3verse")
```

If you want the latest development version of any of our packages, run

```{r remotes, eval = FALSE}
remotes::install_github("mlr-org/{pkg}")
```

with `{pkg}` replaced with the name of the package you want to install (e.g., `remotes::install_github("mlr-org/mlr3tuning")`).
You can see an up-to-date list of all our extension packages at `r link("https://github.com/mlr-org/mlr3/wiki/Extension-Packages")`.

## Community links
<!-- FIXME: MOVE ONLINE -- KEEP RELEVANT PARTS SOMEWHERE ELSE (mlr3 readme) -->

The mlr community is open to all and we welcome everybody, from those completely new to ML and R to advanced coders and professional data scientists.
You can reach us on our `r link("https://lmmisld-lmu-stats-slds.srv.mwn.de/signup_email?id=6n7n67tdh7d4bnfxydqomjqspo", "Mattermost")`.

For case studies and how-to guides, check out the `r link("https://mlr-org.com/gallery.html", "mlr3gallery")` for extended practical blog posts.
For updates on mlr you might find `r link("https://mlr-org.com/blog.html", "our blog")` a useful point of reference.

We appreciate all contributions, whether they are bug reports, feature requests, or pull requests that fix bugs or extend functionality.
Each of our GitHub repositories includes issues and pull request templates to ensure we can help you as much as possible to get started.
Please make sure you read our `r link("https://github.com/mlr-org/mlr3/blob/main/.github/CODE_OF_CONDUCT.md", "code of conduct")` and `r link("https://github.com/mlr-org/mlr3/blob/main/CONTRIBUTING.md", "contribution guidelines")`.
With so many packages in our universe it may be hard to keep track of where to open issues.
As a general rule:

1. If you have a question about using any part of the mlr3 ecosystem, ask on [StackOverflow](https://stackoverflow.com/) and use the tag #mlr3 -- one of our team will answer you there.
Be sure to include a reproducible example (reprex) and if we think you found a bug then we will refer you to the relevant GitHub repository.
1. Bug reports or pull requests about core functionality (train, predict, etc.) should be opened in the [mlr3](https://github.com/mlr3) GitHub repository.
1. Bug reports or pull requests about learners should be opened in the [mlr3extralearners](https://github.com/mlr3extralearners) GitHub repository.
1. Bug reports or pull requests about measures should be opened in the [mlr3measures](https://github.com/mlr3measures) GitHub repository.
1. Bug reports or pull requests about domain specific functionality should be opened in the GitHub repository of the respective package (see @sec-introduction).

Do not worry about opening an issue in the wrong place, we will transfer it to the right one.

## mlr3book style guide {#styleguide}
<!-- FIXME: CODE STYLE -->

Throughout this book we will use our own style guide that can be found in the `r link("https://github.com/mlr-org/mlr3/wiki/Style-Guide", "mlr3 wiki")`.
Below are the most important style choices relevant to the book.

1. We always use `=` instead of `<-` for assignment.
2. Class names are in `UpperCamelCase`
3. Function and method names are in `lower_snake_case`
4. When referencing functions, we will only include the package prefix (e.g., `pkg::function`) for functions outside the mlr3 universe or when there may be ambiguity about in which package the function lives. Note you can use `environment(function)` to see which namespace a function is loaded from.
5. We denote packages, fields, methods, and functions as follows:

    * `package` - With link (if online) to package CRAN, R-Universe, or GitHub page
    * `package::function()` (for functions _outside_ the mlr-org ecosystem)
    * `function()` (for functions _inside_ the mlr-org ecosystem)
    * `$field` for fields (data encapsulated in a R6 class)
    * `$method()` for methods (functions encapsulated in a R6 class)
