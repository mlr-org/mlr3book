<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.272">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Applied Machine Learning Using mlr3 in R - 1&nbsp; Introduction and Overview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../chapters/chapter2/data_and_basic_modeling.html" rel="next">
<link href="../../index.html" rel="prev">
<link href="../../Figures/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
</head>
<body class="nav-sidebar floating slimcontent">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/chapter1/introduction_and_overview.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction and Overview</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Applied Machine Learning Using mlr3 in R</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/mlr-org/mlr3book/tree/main/book/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="../../Applied-Machine-Learning-Using-mlr3-in-R.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting Started</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter1/introduction_and_overview.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction and Overview</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter2/data_and_basic_modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data and Basic Modeling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter3/evaluation_and_benchmarking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Evaluation and Benchmarking</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Tuning and Feature Selection</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter4/hyperparameter_optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Hyperparameter Optimization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter5/advanced_tuning_methods_and_black_box_optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Advanced Tuning Methods and Black Box Optimization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter6/feature_selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Feature Selection</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Pipelines and Preprocessing</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter7/sequential_pipelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Sequential Pipelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter8/non-sequential_pipelines_and_tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Non-sequential Pipelines and Tuning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter9/preprocessing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Preprocessing</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Advanced Topics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter10/advanced_technical_aspects_of_mlr3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Advanced Technical Aspects of mlr3</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter11/large-scale_benchmarking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Large-Scale Benchmarking</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter12/model_interpretation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Model Interpretation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter13/beyond_regression_and_classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Beyond Regression and Classification</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/chapter14/algorithmic_fairness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Algorithmic Fairness</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/citation_information.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Citation Information</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/session_info.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Session Info</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Solutions to exercises</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/tasks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Tasks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/overview-tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Overview Tables</span></span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#installguide" id="toc-installguide" class="nav-link active" data-scroll-target="#installguide"><span class="header-section-number">1.1</span> Installation Guidelines</a></li>
  <li><a href="#howtouse" id="toc-howtouse" class="nav-link" data-scroll-target="#howtouse"><span class="header-section-number">1.2</span> How to Use This Book</a></li>
  <li><a href="#styleguide" id="toc-styleguide" class="nav-link" data-scroll-target="#styleguide"><span class="header-section-number">1.3</span> mlr3book Code Style</a></li>
  <li><a href="#mlr3-by-example" id="toc-mlr3-by-example" class="nav-link" data-scroll-target="#mlr3-by-example"><span class="header-section-number">1.4</span> mlr3 By Example</a></li>
  <li>
<a href="#the-mlr3-ecosystem" id="toc-the-mlr3-ecosystem" class="nav-link" data-scroll-target="#the-mlr3-ecosystem"><span class="header-section-number">1.5</span> The <code>mlr3</code> Ecosystem</a>
  <ul class="collapse">
<li><a href="#sec-r6" id="toc-sec-r6" class="nav-link" data-scroll-target="#sec-r6"><span class="header-section-number">1.5.1</span> R6 for Beginners</a></li>
  <li><a href="#sec-data.table" id="toc-sec-data.table" class="nav-link" data-scroll-target="#sec-data.table"><span class="header-section-number">1.5.2</span> data.table for Beginners</a></li>
  </ul>
</li>
  <li><a href="#sec-mlr3-utilities" id="toc-sec-mlr3-utilities" class="nav-link" data-scroll-target="#sec-mlr3-utilities"><span class="header-section-number">1.6</span> Essential mlr3 Utilities</a></li>
  <li><a href="#design-principles" id="toc-design-principles" class="nav-link" data-scroll-target="#design-principles"><span class="header-section-number">1.7</span> Design Principles</a></li>
  <li><a href="#citation" id="toc-citation" class="nav-link" data-scroll-target="#citation"><span class="header-section-number">1.8</span> Citation</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/mlr-org/mlr3book/edit/main/book/chapters/chapter1/introduction_and_overview.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/mlr-org/mlr3book/issues/new" class="toc-action">Report an issue</a></p><p><a href="https://github.com/mlr-org/mlr3book/blob/main/book/chapters/chapter1/introduction_and_overview.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-introduction" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction and Overview</span></span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p><strong>Lars Kotthoff</strong> <br><em>University of Wyoming</em></p>
<p><strong>Raphael Sonabend</strong> <br><em>Imperial College London</em></p>
<p><strong>Natalie Foss</strong> <br><em>University of Wyoming</em></p>
<p><strong>Bernd Bischl</strong> <br><em>Ludwig-Maximilians-Universität München, and Munich Center for Machine Learning (MCML)</em> <br><br></p>
<p>Welcome to the <strong>M</strong>achine <strong>L</strong>earning in <strong>R</strong> universe. In this book, we will guide you through the functionality offered by <code>mlr3</code> step by step. If you want to contribute to our universe, ask any questions, read documentation, or just chat with the team, head to <a href="https://github.com/mlr-org/mlr3">https://github.com/mlr-org/mlr3</a> which has several useful links in the README.</p>
<p>The <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> <span class="citation" data-cites="mlr3">(<a href="#ref-mlr3" role="doc-biblioref">Lang et al. 2019</a>)</span> package and the wider <code>mlr3</code> ecosystem provide a generic, object-oriented, and extensible framework for regression (<a href="#sec-tasks"><span class="quarto-unresolved-ref">sec-tasks</span></a>), classification (<a href="#sec-classif"><span class="quarto-unresolved-ref">sec-classif</span></a>), and other machine learning tasks (<a href="#sec-special"><span class="quarto-unresolved-ref">sec-special</span></a>) for the R language <span class="citation" data-cites="R">(<a href="#ref-R" role="doc-biblioref">R Core Team 2019</a>)</span>. On the most basic level, the unified interface provides functionality to train, test, and evaluate many machine learning algorithms. You can also take this a step further with hyperparameter optimization, computational pipelines, model interpretation, and much more. <code>mlr3</code> has similar overall aims to <code>caret</code> and <code>tidymodels</code> for R, <code>scikit-learn</code> for Python, and <code>MLJ</code> for Julia. In general, <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> is designed to provide more flexibility than other ML frameworks while still offering easy ways to use advanced functionality. While <code>tidymodels</code> in particular makes it very easy to perform simple ML tasks, <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> is more geared towards advanced ML.</p>
<p>Before we can show you the full power of <code>mlr3</code>, we recommend installing the <a href="https://mlr3verse.mlr-org.com"><code>mlr3verse</code></a> package, which will install several, important packages in the <code>mlr3</code> ecosystem.</p>
<div class="cell" data-hash="introduction_and_overview_cache/html/C0 install mlr3verse_4b54613bb2905f2a574bb529979c3f9b">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"mlr3verse"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="installguide" class="level2 page-columns page-full" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="installguide">
<span class="header-section-number">1.1</span> Installation Guidelines</h2>
<div class="page-columns page-full"><p>There are many packages in the <code>mlr3</code> ecosystem that you may want to use as you work through this book. All our packages can be installed from GitHub and R-universe<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>; the majority (but not all) packages can also be installed from CRAN. We recommend adding the mlr-org R-universe to your R options so you can install all packages with <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code>, without having to worry which package repository it comes from. To do this, install <a href="https://cran.r-project.org/package=usethis"><code>usethis</code></a> and run the following:</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;R-universe is an alternative package repository to CRAN. The bit of code below tells R to look at both R-universe and CRAN when trying to install packages. R will always install the latest version of a package.</p></li></div></div>
<div class="cell" data-hash="introduction_and_overview_cache/html/universe1_b34458e6ccdffadeec339d1dde288de8">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html">edit_r_profile</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the file that opens add or change the <code>repos</code> argument in <code>options</code> so it looks something like the code below (you might need to add the full code block below or just edit the existing <code>options</code> function).</p>
<div class="cell" data-hash="introduction_and_overview_cache/html/universe2_6123f6b3069439355f9a409296b3f718">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  mlrorg <span class="op">=</span> <span class="st">"https://mlr-org.r-universe.dev"</span>,</span>
<span>  CRAN <span class="op">=</span> <span class="st">"https://cloud.r-project.org/"</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Save the file, restart your R session, and you are ready to go!</p>
<p>If you want the latest development version of any of our packages, run</p>
<div class="cell" data-hash="introduction_and_overview_cache/html/remotes_310be1bd114926c4704534f3b2174001">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"mlr-org/{pkg}"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>with <code>{pkg}</code> replaced with the name of the package you want to install. You can see an up-to-date list of all our extension packages at <a href="https://github.com/mlr-org/mlr3/wiki/Extension-Packages">https://github.com/mlr-org/mlr3/wiki/Extension-Packages</a>.</p>
</section><section id="howtouse" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="howtouse">
<span class="header-section-number">1.2</span> How to Use This Book</h2>
<p>The <code>mlr3</code> ecosystem is the result of many years of methodological and applied research. This book describes the resulting features and discusses best practices for ML, technical implementation details, and in-depth considerations for model optimization. This book may be helpful for both practitioners who want to quickly apply machine learning (ML) algorithms and researchers who want to implement, benchmark, and compare their new methods in a structured environment. Whilst we hope this book is accessible to a wide range of readers and levels of ML expertise, we do assume that readers have taken at least an introductory ML course or have the equivalent expertise and some basic experience with R. A background in computer science or statistics is beneficial for understanding the advanced functionality described in the later chapters of this book, but not required. A comprehensive ML introduction for those new to the field can be found in <span class="citation" data-cites="james2013introduction">James et al. (<a href="#ref-james2013introduction" role="doc-biblioref">2013</a>)</span>. <span class="citation" data-cites="Wickham2017R">Wickham and Grolemund (<a href="#ref-Wickham2017R" role="doc-biblioref">2017</a>)</span> provides a comprehensive introduction to data science in R.</p>
<p>The book is split into the following four parts:</p>
<p><strong>Part I: Fundamentals</strong><br> In this part of the book we will teach you the fundamentals of <code>mlr3</code>. This will give you a flavor of the building blocks of the <code>mlr3</code> universe and the basic tools you will need to tackle most machine learning problems. We recommend that all readers study these chapters to become familiar with <code>mlr3</code> terminology, syntax, and style. In <a href="#sec-basics"><span class="quarto-unresolved-ref">sec-basics</span></a> we will cover the basic classes in <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a>, including <code>Learner</code> (machine learning implementations), <code>Measure</code> (performance metrics), and <code>Task</code> (machine learning task definitions). <a href="#sec-performance"><span class="quarto-unresolved-ref">sec-performance</span></a> will take evaluation a step further to include discussions about resampling – robust strategies for measuring model performance – and benchmarking – experiments for comparing multiple models.</p>
<p><strong>Part II: Tuning and Feature Selection</strong><br> In this part of the book, we will look at more advanced methodology that is essential to developing powerful ML models with good predictive ability. We will demonstrate how to manually make use of these methods using <code>mlr3</code> code and also the automated implementations that are included to make your ML workflow even more efficient. <a href="#sec-optimization"><span class="quarto-unresolved-ref">sec-optimization</span></a> introduces hyperparameter optimization, which is the process of tuning model hyperparameters to obtain better model performance. Tuning is implemented via the <a href="https://mlr3tuning.mlr-org.com"><code>mlr3tuning</code></a> package, which also includes methods for automating complex tuning processes, including nested resampling. The performance of ML models can be improved by tuning hyperparameters but also by carefully selecting features from the training dataset. <a href="#sec-feature-selection"><span class="quarto-unresolved-ref">sec-feature-selection</span></a> introduces manual and automated feature selection with filters and wrappers implemented in <a href="https://mlr3filters.mlr-org.com"><code>mlr3filters</code></a> and <a href="https://mlr3fselect.mlr-org.com"><code>mlr3fselect</code></a>. For readers interested in taking a deep dive into tuning, <a href="#sec-optimization-advanced"><span class="quarto-unresolved-ref">sec-optimization-advanced</span></a> discusses advanced tuning methods including error handling, multi-objective tuning, and tuning with Hyperband and Bayesian Optimization methods.</p>
<p><strong>Part III: Pipelines and Preprocessing</strong><br> In Part III we introduce <a href="https://mlr3pipelines.mlr-org.com"><code>mlr3pipelines</code></a>, which implements pipelines to automate many parts of a ML workflow. In <a href="#sec-pipelines"><span class="quarto-unresolved-ref">sec-pipelines</span></a> we will show you how to build a pipeline out of discrete configurable operations and how to treat complex pipelines as if they were any other machine learning model. In <a href="#sec-pipelines-nonseq"><span class="quarto-unresolved-ref">sec-pipelines-nonseq</span></a> we will build on the previous chapter by introducing non-sequential pipelines, which can carry out multiple operations that may not progress in a linear order. We will also demonstrate how to tune pipelines, including how to tune which operations should be included in the pipeline. Finally, in <a href="#sec-preprocessing"><span class="quarto-unresolved-ref">sec-preprocessing</span></a> we will put pipelines into practice by demonstrating how to solve common problems that occur when fitting ML models to messy data.</p>
<p><strong>Part IV: Advanced Topics</strong><br> In the final part of the book, we will look at advanced implementation as well as theory that can be used to fine-tune experiments, analyze results in detail, and apply domain-specific methods. This part of the book is more theory-heavy to help ground the design and implementation decisions. We will begin by looking at advanced technical details in <a href="#sec-technical"><span class="quarto-unresolved-ref">sec-technical</span></a> that are essential reading for advanced users who require parallelization, custom error handling, and fine control over hyperparameters and large databases. <a href="#sec-large-benchmarking"><span class="quarto-unresolved-ref">sec-large-benchmarking</span></a> will build on all preceding chapters to introduce large-scale benchmarking experiments that compare many models, tasks, and measures; including how to make use of <code>mlr3</code> extension packages for loading data, using high-performance computing clusters, and formal statistical analysis of benchmark experiments. <a href="#sec-interpretation"><span class="quarto-unresolved-ref">sec-interpretation</span></a> will discuss different packages that are compatible with <code>mlr3</code> to provide model-agnostic interpretability methods including SHAPs and feature permutation methods. <a href="#sec-special"><span class="quarto-unresolved-ref">sec-special</span></a> will then delve into detail on domain-specific methods that are implemented in our extension packages including survival analysis, density estimation, spatio-temporal analysis, and more. Readers may choose to selectively read sections in this chapter depending on your use case (i.e., if you have domain-specific problems to tackle), or to use these as introductions to new domains to explore. Finally, <a href="#sec-fairness"><span class="quarto-unresolved-ref">sec-fairness</span></a> will introduce algorithmic fairness, which includes specialized measures and methods to identify and reduce algorithmic biases.</p>
<p>We have included a box at the top of all ‘optional’ sections to mark sections that are particularly complex with respect to either technical or methodological detail and could be skipped on a first read.</p>
<p>Each chapter includes tutorials, API references, and explanations of methodologies. At the end of each part of the book we have included exercises for you to test yourself on what you have learned, you can find the solutions to these exercises at <a href="https://mlr3book.mlr-org.com/solutions.html">https://mlr3book.mlr-org.com/solutions.html</a>. If you want to reproduce any of the results in this book, note that at the start of each chapter we run <code>set.seed(123)</code> and the <code>sessionInfo</code> at the time of publication is printed in <a href="#sec-session-info"><span class="quarto-unresolved-ref">sec-session-info</span></a>.</p>
</section><section id="styleguide" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="styleguide">
<span class="header-section-number">1.3</span> mlr3book Code Style</h2>
<p>Throughout this book we will use the following code style:</p>
<ol type="1">
<li><p>We always use <code>=</code> instead of <code>&lt;-</code> for assignment.</p></li>
<li><p>Class names are in <code>UpperCamelCase</code></p></li>
<li><p>Function and method names are in <code>lower_snake_case</code></p></li>
<li><p>When referencing functions, we will only include the package prefix (e.g., <code>pkg::function</code>) for functions outside the <code>mlr3</code> universe or when there may be ambiguity about in which package the function lives. Note you can use <code>environment(function)</code> to see which namespace a function is loaded from.</p></li>
<li>
<p>We denote packages, fields, methods, and functions as follows:</p>
<ul>
<li>
<code>package</code> - With link (if online) to package CRAN, R-Universe, or GitHub page</li>
<li>
<code>package::function()</code> or <code>function()</code> (see point 4)</li>
<li>
<code>$field</code> for fields (data encapsulated in an R6 class)</li>
<li>
<code>$method()</code> for methods (functions encapsulated in an R6 class)</li>
</ul>
</li>
</ol>
<p>Now let us see this in practice with our first example.</p>
</section><section id="mlr3-by-example" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="mlr3-by-example">
<span class="header-section-number">1.4</span> mlr3 By Example</h2>
<p>The <code>mlr3</code> universe includes a wide range of tools taking you from basic ML to complex experiments. To get started, here is an example of the simplest functionality – training a model and making predictions.</p>
<div class="cell" data-hash="introduction_and_overview_cache/html/C0 egBasic_b0216bf0a7016167c4129949b4af5885">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mlr3.mlr-org.com">mlr3</a></span><span class="op">)</span></span>
<span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">split</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/partition.html">partition</a></span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span>
<span><span class="va">learner</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">lrn</a></span><span class="op">(</span><span class="st">"classif.rpart"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">learner</span><span class="op">$</span><span class="fu">train</span><span class="op">(</span><span class="va">task</span>, row_ids <span class="op">=</span> <span class="va">split</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span>
<span><span class="va">learner</span><span class="op">$</span><span class="va">model</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>n= 231 

node), split, n, loss, yval, (yprob)
      * denotes terminal node

1) root 231 129 Adelie (0.441558 0.199134 0.359307)  
  2) flipper_length&lt; 206.5 144  44 Adelie (0.694444 0.298611 0.006944)  
    4) bill_length&lt; 43.05 98   3 Adelie (0.969388 0.030612 0.000000) *
    5) bill_length&gt;=43.05 46   6 Chinstrap (0.108696 0.869565 0.021739) *
  3) flipper_length&gt;=206.5 87   5 Gentoo (0.022989 0.034483 0.942529) *</code></pre>
</div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">predictions</span> <span class="op">=</span> <span class="va">learner</span><span class="op">$</span><span class="fu">predict</span><span class="op">(</span><span class="va">task</span>, row_ids <span class="op">=</span> <span class="va">split</span><span class="op">$</span><span class="va">test</span><span class="op">)</span></span>
<span><span class="va">predictions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;PredictionClassif&gt; for 113 observations:
    row_ids     truth  response
          1    Adelie    Adelie
          2    Adelie    Adelie
          3    Adelie    Adelie
---                            
        328 Chinstrap Chinstrap
        331 Chinstrap    Adelie
        339 Chinstrap Chinstrap</code></pre>
</div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">predictions</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">msr</a></span><span class="op">(</span><span class="st">"classif.acc"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>classif.acc 
     0.9558 </code></pre>
</div>
</div>
<p>In this example, we trained a decision tree on a subset of the <a href="https://www.rdocumentation.org/packages/palmerpenguins/topics/penguins" class="refcode"><code>palmerpenguins::penguins</code></a> dataset, made predictions on the rest of the data and then evaluated these with the accuracy measure. In <a href="#sec-basics"><span class="quarto-unresolved-ref">sec-basics</span></a> we will break this down in more detail.</p>
<p>The <code>mlr3</code> interface also lets you run more complicated experiments in just a few lines of code:</p>
<div class="cell" data-hash="introduction_and_overview_cache/html/C0 egHard_7d260878d6166beb6f5a3a4f200fdc78">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mlr3verse.mlr-org.com">mlr3verse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">tasks</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">tsks</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"breast_cancer"</span>, <span class="st">"sonar"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tuned_rf</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/as_learner.html">as_learner</a></span><span class="op">(</span><span class="fu"><a href="https://mlr3pipelines.mlr-org.com/reference/ppl.html">ppl</a></span><span class="op">(</span><span class="st">"robustify"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://mlr3tuning.mlr-org.com/reference/auto_tuner.html">auto_tuner</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://mlr3tuning.mlr-org.com/reference/tnr.html">tnr</a></span><span class="op">(</span><span class="st">"grid_search"</span>, resolution <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">lrn</a></span><span class="op">(</span><span class="st">"classif.ranger"</span>, num.trees <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/to_tune.html">to_tune</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">500</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tuned_rf</span><span class="op">$</span><span class="va">id</span> <span class="op">=</span> <span class="st">"RF"</span></span>
<span></span>
<span><span class="va">stack_lrn</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/as_learner.html">as_learner</a></span><span class="op">(</span><span class="fu"><a href="https://mlr3pipelines.mlr-org.com/reference/ppl.html">ppl</a></span><span class="op">(</span><span class="st">"robustify"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://mlr3pipelines.mlr-org.com/reference/ppl.html">ppl</a></span><span class="op">(</span><span class="st">"stacking"</span>,</span>
<span>    <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">lrns</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"classif.rpart"</span>, <span class="st">"classif.kknn"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">lrn</a></span><span class="op">(</span><span class="st">"classif.log_reg"</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">stack_lrn</span><span class="op">$</span><span class="va">id</span> <span class="op">=</span> <span class="st">"Stack"</span></span>
<span></span>
<span><span class="va">learners</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">tuned_rf</span>, <span class="va">stack_lrn</span><span class="op">)</span></span>
<span><span class="va">bm</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/benchmark.html">benchmark</a></span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/benchmark_grid.html">benchmark_grid</a></span><span class="op">(</span><span class="va">tasks</span>, <span class="va">learners</span>, <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"cv"</span>, folds <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">bm</span><span class="op">$</span><span class="fu">aggregate</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">msr</a></span><span class="op">(</span><span class="st">"classif.acc"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="introduction_and_overview_cache/html/C0 egHardOut_40ead9f441871579401d0545c4a43382">
<div class="cell-output cell-output-stdout">
<pre><code>         task_id learner_id classif.acc
1: breast_cancer         RF      0.9781
2: breast_cancer      Stack      0.9386
3:         sonar         RF      0.8551
4:         sonar      Stack      0.7246</code></pre>
</div>
</div>
<p>In this (much more complex!) example we chose two tasks and two learners and used automated tuning to optimize the number of trees in the random forest learner (<a href="#sec-optimization"><span class="quarto-unresolved-ref">sec-optimization</span></a>), and a machine learning pipeline that imputes missing data, collapses factor levels, and creates stacked models (<a href="#sec-pipelines"><span class="quarto-unresolved-ref">sec-pipelines</span></a> and <a href="#sec-pipelines-nonseq"><span class="quarto-unresolved-ref">sec-pipelines-nonseq</span></a>). We also showed basic features like loading learners (<a href="#sec-basics"><span class="quarto-unresolved-ref">sec-basics</span></a>) and choosing resampling strategies for benchmarking (<a href="#sec-performance"><span class="quarto-unresolved-ref">sec-performance</span></a>). Finally, we compared the performance of the models using the mean accuracy with 3-fold cross-validation.</p>
<p>You will learn how to do all this and more in this book.</p>
</section><section id="the-mlr3-ecosystem" class="level2 page-columns page-full" data-number="1.5"><h2 data-number="1.5" class="anchored" data-anchor-id="the-mlr3-ecosystem">
<span class="header-section-number">1.5</span> The <code>mlr3</code> Ecosystem</h2>
<p>Throughout this book, we often refer to <code>mlr3</code>, which does not refer to the single <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> base package but all the packages in our ecosystem. The <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> <em>package</em> provides the base functionality that the rest of the ecosystem depends on for building more advanced machine learning tools. <a href="#fig-mlr3verse">Figure&nbsp;<span class="quarto-unresolved-ref">fig-mlr3verse</span></a> shows the packages in the <code>mlr3verse</code> that extend <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> with capabilities for preprocessing, pipelining, visualizations, additional learners, additional task types, and more.</p>
<!-- FIXME: FIX BELOW FOR PDF -->
<div class="cell" data-layout-align="center" data-hash="introduction_and_overview_cache/html/fig-mlr3verse_e289722f18796869734f6e3aaf656ef4">
<div class="cell-output-display">
<div id="fig-mlr3verse" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/mlr3verse.svg" class="quarto-discovered-preview-image img-fluid figure-img" style="width:98.0%" alt="Diagram showing the packages of the mlr3verse and their relationship."></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.1: Overview of the <code>mlr3</code> ecosystem, the <code>mlr3verse</code>.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>A complete and up-to-date list of extension packages can be found at <a href="https://mlr-org.com/ecosystem.html">https://mlr-org.com/ecosystem.html</a>.</p>
<p>As well as packages within the <code>mlr3</code> ecosystem, software in the <code>mlr3verse</code> also depends on the following popular and well-established packages:</p>
<ul>
<li>
<a href="https://cran.r-project.org/package=R6"><code>R6</code></a>: The class system predominantly used in <code>mlr3</code>.</li>
<li>
<a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a>: High-performance extension of R’s <code>data.frame</code>.</li>
<li>
<a href="https://cran.r-project.org/package=digest"><code>digest</code></a>: Cryptographic hash functions.</li>
<li>
<a href="https://cran.r-project.org/package=uuid"><code>uuid</code></a>: Generation of universally unique identifiers.</li>
<li>
<a href="https://cran.r-project.org/package=lgr"><code>lgr</code></a>: Configurable logging library.</li>
<li>
<a href="https://cran.r-project.org/package=mlbench"><code>mlbench</code></a> and <a href="https://cran.r-project.org/package=palmerpenguins"><code>palmerpenguins</code></a>: More machine learning data sets.</li>
<li>
<a href="https://cran.r-project.org/package=evaluate"><code>evaluate</code></a>: For capturing output, warnings, and exceptions (<a href="#sec-error-handling"><span class="quarto-unresolved-ref">sec-error-handling</span></a>).</li>
<li>
<a href="https://cran.r-project.org/package=future"><code>future</code></a> / <a href="https://cran.r-project.org/package=future.apply"><code>future.apply</code></a> / <a href="https://cran.r-project.org/package=parallelly"><code>parallelly</code></a>: For parallelization (<a href="#sec-parallelization"><span class="quarto-unresolved-ref">sec-parallelization</span></a>).</li>
</ul>
<p>We build on <a href="https://cran.r-project.org/package=R6"><code>R6</code></a> for object orientation and <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a> to store and operate on tabular data. As both are core to <code>mlr3</code> we <em>briefly</em> introduce both packages for beginners; in-depth expertise with these packages is not necessary to work with <code>mlr3</code>.</p>
<section id="sec-r6" class="level3 page-columns page-full" data-number="1.5.1"><h3 data-number="1.5.1" class="anchored" data-anchor-id="sec-r6">
<span class="header-section-number">1.5.1</span> R6 for Beginners</h3>
<p><a href="https://cran.r-project.org/package=R6"><code>R6</code></a> is one of R’s more recent paradigms for object-oriented programming (OOP). If you have experience with any (class) object-oriented programming then R6 should feel familiar. We focus on the parts of R6 that you need to know to use <code>mlr3</code>.</p>
<div class="page-columns page-full"><p>Objects are created by constructing an instance of an <a href="https://www.rdocumentation.org/packages/R6/topics/R6Class" class="refcode"><code>R6::R6Class</code></a> variable using the <code>$new()</code> initialization method. For example, say we have implemented a class called <code>Foo</code>, then <code>foo = Foo$new(bar = 1)</code> would create a new object of class <code>Foo</code> and set the <code>bar</code> argument of the constructor to the value <code>1</code>. In practice, we implement a lot of sugar functionality (<a href="#sec-mlr3-utilities"><span class="quarto-unresolved-ref">sec-mlr3-utilities</span></a>) in <code>mlr3</code> so you do not need to interact with <code>R6</code> constructors in this way if you would prefer not to.</p><div class="no-row-height column-margin column-container"><span class="">Objects</span></div></div>
<div class="page-columns page-full"><p>Some <code>R6</code> objects may have mutable states that are encapsulated in their fields, which can be accessed through the dollar, <code>$</code>, operator. Continuing the previous example, we can access the <code>bar</code> value in the <code>foo</code> object by using <code>foo$bar</code> or we could give it a new value, e.g.&nbsp;<code>foo$bar = 2</code>. These fields are known as ‘active bindings’ and it is important to note that when called, computations are being run in the background.</p><div class="no-row-height column-margin column-container"><span class="">Fields</span></div></div>
<div class="page-columns page-full"><p>In addition to fields, methods allow users to inspect the object’s state, retrieve information, or perform an action that changes the internal state of the object. For example, in <code>mlr3</code>, the <code>$train()</code> method of a learner changes the internal state of the learner by building and storing a model. Methods can be ‘chained’ in R6 by calling one immediately after the other using the <code>$</code>-operator, this is similar to the <code>%&gt;%</code>-operator used in <code>tidyverse</code> packages. For example, <code>Foo$bar()$hello_world()</code> would run the <code>$bar()</code> method of the object <code>Foo</code> and then the <code>$hello_world()</code> method of the object returned by <code>$bar()</code> (which may be <code>Foo</code>).</p><div class="no-row-height column-margin column-container"><span class="">Methods</span></div></div>
<p>Fields and methods can be public or private. The public fields and methods define the API to interact with the object. In <code>mlr3</code>, you can safely ignore private methods unless you are looking to extend our universe by adding a new class (<a href="#sec-technical"><span class="quarto-unresolved-ref">sec-technical</span></a>).</p>
<div class="page-columns page-full"><p>Finally, <code>R6</code> objects are <code>environments</code>, and as such have reference semantics. This means that, for example, <code>foo2 = foo</code> does not create a new variable called <code>foo2</code> that is a copy of <code>foo</code>. Instead, it creates a variable called <code>foo2</code> that references <code>foo</code>, and so setting <code>foo$bar = 3</code> will also change <code>foo2$bar</code> to <code>3</code> and vice versa. To copy an object, use the <code>$clone(deep = TRUE)</code> method, so to copy <code>foo</code>: <code>foo2 = foo$clone(deep = TRUE)</code>.</p><div class="no-row-height column-margin column-container"><span class=""><code>$clone()</code></span></div></div>
<p>For a longer introduction, we recommend the <code>R6</code> vignettes found at <a href="https://r6.r-lib.org/">https://r6.r-lib.org/</a>, more detail can be found in <a href="https://adv-r.hadley.nz/r6.html">https://adv-r.hadley.nz/r6.html</a>.</p>
</section><section id="sec-data.table" class="level3" data-number="1.5.2"><h3 data-number="1.5.2" class="anchored" data-anchor-id="sec-data.table">
<span class="header-section-number">1.5.2</span> data.table for Beginners</h3>
<p>The package <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a> implements the <a href="https://www.rdocumentation.org/packages/data.table/topics/data.table-package" class="refcode"><code>data.table()</code></a>, which is a popular alternative to R’s <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>. We use <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a> because it is blazingly fast and scales well to bigger data.</p>
<p>As with <code>data.frame</code>, <code>data.table</code>s can be constructed with <a href="https://www.rdocumentation.org/packages/data.table/topics/data.table-package" class="refcode"><code>data.table()</code></a> or <a href="https://www.rdocumentation.org/packages/data.table/topics/as.data.table" class="refcode"><code>as.data.table()</code></a>:</p>
<div class="cell" data-hash="introduction_and_overview_cache/html/intro-002.table-001.table-002_d9c70c2c0af23727563b9a1f3b27f07b">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com">data.table</a></span><span class="op">)</span></span>
<span><span class="co"># converting a matrix with as.data.table</span></span>
<span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html">as.data.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       V1     V2
1: 0.8586 0.4891
2: 0.8874 0.7181</code></pre>
</div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># using data.table</span></span>
<span><span class="va">dt</span> <span class="op">=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html">data.table</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, each <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dt</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   x y
1: 1 a
2: 2 a
3: 3 b
4: 4 b
5: 5 c
6: 6 c</code></pre>
</div>
</div>
<p><code>data.table</code>s can be used much like <code>data.frame</code>s, but they provide additional functionality that makes complex operations easier. For example, data can be summarized by groups with a <code>by</code> argument in the <code>[</code> operator and they are mutable:</p>
<div class="cell" data-hash="introduction_and_overview_cache/html/intro-004.table-003.table-004_03dd861479afb883a8df1188e73d9d0b">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># mean of x column in groups given by y</span></span>
<span><span class="va">dt</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"y"</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   y  V1
1: a 1.5
2: b 3.5
3: c 5.5</code></pre>
</div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># adding a new column with :=</span></span>
<span><span class="va">dt</span><span class="op">[</span>, <span class="va">z</span> <span class="op">:=</span> <span class="va">x</span> <span class="op">*</span> <span class="fl">3</span><span class="op">]</span></span>
<span><span class="va">dt</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   x y  z
1: 1 a  3
2: 2 a  6
3: 3 b  9
4: 4 b 12
5: 5 c 15
6: 6 c 18</code></pre>
</div>
</div>
<p>Finally <code>data.table</code> also uses reference semantics so you will need to use <a href="https://www.rdocumentation.org/packages/data.table/topics/copy" class="refcode"><code>data.table::copy()</code></a> to clone a <code>data.table</code>. For an in-depth introduction, we recommend the vignette <span class="citation" data-cites="datatable"><span>“Introduction to Data.table”</span> (<a href="#ref-datatable" role="doc-biblioref">2023</a>)</span>.</p>
</section></section><section id="sec-mlr3-utilities" class="level2" data-number="1.6"><h2 data-number="1.6" class="anchored" data-anchor-id="sec-mlr3-utilities">
<span class="header-section-number">1.6</span> Essential mlr3 Utilities</h2>
<p><code>mlr3</code> includes a few important utilities that are essential to simplifying our ecosystem and making it easier to navigate.</p>
<section id="sugar-functions" class="level3 unnumbered unlisted"><h3 class="unnumbered unlisted anchored" data-anchor-id="sugar-functions">Sugar Functions</h3>
<p>Most objects in <code>mlr3</code> can be created through convenience functions called helper functions or sugar functions. They provide shortcuts for common code idioms, reducing the amount of code a user has to write. For example <code>lrn("regr.rpart")</code> is the sugar version of <code>LearnerRegrRpart$new()</code>. We heavily use sugar functions throughout this book and provide the equivalent “full form” for complete detail at the end of each chapter. The sugar functions are designed to cover the majority of use cases for most users, knowledge about the full <code>R6</code> backend is most commonly required if you want to build custom objects or extensions.</p>
<p>Many object names in <code>mlr3</code> are standardized according to the convention: <code>mlr_&lt;types&gt;_&lt;key&gt;</code>. Where <code>&lt;types&gt;</code> will be <code>tasks</code>, <code>learners</code>, <code>measures</code>, and other classes that will be covered in the book; and <code>&lt;key&gt;</code> refers to the ID of the object. To simplify the process of constructing objects, you only need to know the object key and the sugar function for construction. For example: <code>mlr_tasks_mtcars</code> becomes <code>tsk("mtcars")</code>;<code>mlr_learners_regr.rpart</code> becomes <code>lrn("regr.rpart")</code>; and <code>mlr_measures_regr.mse</code> becomes <code>msr("regr.mse")</code>. Therefore, for brevity, throughout this book, we will refer to all objects using this abbreviated form.</p>
</section><section id="dictionaries" class="level3 unnumbered unlisted"><h3 class="unnumbered unlisted anchored" data-anchor-id="dictionaries">Dictionaries</h3>
<p><code>mlr3</code> uses dictionaries to store R6 classes, which associate keys (unique identifiers) with objects (R6 objects). Values in dictionaries are often accessed through sugar functions that retrieve objects from the relevant dictionary, for example <code>lrn("regr.rpart")</code> is a wrapper around <code>mlr_learners$get("regr.rpart")</code> and is thus a simpler way to load a decision tree learner from the <a href="https://mlr3.mlr-org.com/reference/mlr_learners.html" class="refcode"><code>mlr_learners</code></a>. We use dictionaries to group large collections of relevant objects so they can be listed and retrieved easily. For example, you can see an overview of available learners (that are in loaded packages) and their properties with <code>as.data.table(mlr_learners)</code> or by calling the sugar function without any arguments, e.g.&nbsp;<code><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">lrn()</a></code>.</p>
</section><section id="mlr3viz" class="level3 unnumbered unlisted"><h3 class="unnumbered unlisted anchored" data-anchor-id="mlr3viz">mlr3viz</h3>
<p><a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a> includes all plotting functionality in <code>mlr3</code> by using <a href="https://cran.r-project.org/package=ggplot2"><code>ggplot2</code></a> under the hood. We use <a href="https://www.rdocumentation.org/packages/ggplot2/topics/theme_minimal" class="refcode"><code>ggplot2::theme_minimal()</code></a> in all our plots to unify our aesthetic, but as with all <code>ggplot</code> outputs, users can fully customize this. <a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a> extends <code>fortify</code> and <code>autoplot</code> for use with common <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> outputs including <a href="https://mlr3.mlr-org.com/reference/Prediction.html" class="refcode"><code>Prediction</code></a>, <a href="https://mlr3.mlr-org.com/reference/Learner.html" class="refcode"><code>Learner</code></a>, and <a href="https://mlr3.mlr-org.com/reference/BenchmarkResult.html" class="refcode"><code>BenchmarkResult</code></a> objects (which we will introduce and cover in the next chapters). We will cover major plot types throughout the book but the best way to learn about <a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a> is through experimentation, load the package and see what happens when you run <code>autoplot</code> on an <code>mlr3</code> object. Plot types are documented in the respective manual page that can be accessed through <code>?autoplot.X</code>, for example, you can find different types of plots for regression tasks by running <code>?autoplot.TaskRegr</code>.</p>
</section></section><section id="design-principles" class="level2" data-number="1.7"><h2 data-number="1.7" class="anchored" data-anchor-id="design-principles">
<span class="header-section-number">1.7</span> Design Principles</h2>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
This section covers advanced ML or technical details.
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<p>The <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a> package <span class="citation" data-cites="mlr">(<a href="#ref-mlr" role="doc-biblioref">Bischl et al. 2016</a>)</span> was first released on CRAN in 2013, with the core design and architecture dating back further. Over time, the addition of many features led to a complex design that made it too difficult for us to extend further. In hindsight, we saw that some design and architecture choices in <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a> made it difficult to support new features, in particular with respect to ML pipelines. So in 2018, we set about working on a reimplementation, which resulted in the first release of <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> on CRAN in July 2019.</p>
<p>Learning from our history, we now follow these design principles in the <code>mlr3</code> ecosystem:</p>
<ul>
<li>
<strong>Object-oriented programming (OOP)</strong>. We embrace <a href="https://cran.r-project.org/package=R6"><code>R6</code></a> for a clean, object-oriented design, object state changes, and reference semantics. This means that the state of common objects (e.g.&nbsp;tasks (<a href="#sec-tasks"><span class="quarto-unresolved-ref">sec-tasks</span></a>) and learners (<a href="#sec-learners"><span class="quarto-unresolved-ref">sec-learners</span></a>)) is encapsulated within the object, for example, to keep track of whether a model has been trained, without the user having to worry about this. We also use inheritance to specialize objects, e.g.&nbsp;all learners are derived from a common base class that provides basic functionality.</li>
<li>
<strong>Tabular data</strong>. Embrace <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a> for its top-notch computation performance as well as tabular data as a structure that can be easily processed further.</li>
<li>
<strong>Unify input and output data formats.</strong> This considerably simplifies the API and allows easy selection and “split-apply-combine” (aggregation) operations. We combine <code>data.table</code> and <code>R6</code> to place references to non-atomic and compound objects in tables and make heavy use of list columns.</li>
<li>
<strong>Defensive programming and type safety</strong>. All user input is checked with <a href="https://cran.r-project.org/package=checkmate"><code>checkmate</code></a> <span class="citation" data-cites="checkmate">(<a href="#ref-checkmate" role="doc-biblioref">Lang 2017</a>)</span>. We use <code>data.table</code> which documents return types unlike other mechanisms popular in base R which “simplify” the result unpredictably (e.g., the <code>drop</code> argument for indexing <code>data.frame</code>s). And we have extensive unit tests!</li>
<li>
<strong>Light on dependencies</strong>. One of the main maintenance burdens for <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a> was to keep up with changing learner interfaces and behavior of the many packages it depended on. We require far fewer packages in <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a>, which makes installation and maintenance easier. We still provide the same functionality, but it is split into more packages that have fewer dependencies individually.</li>
<li>
<strong>Separation of computation and presentation</strong>. Most packages of the <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> ecosystem focus on processing and transforming data, applying ML algorithms, and computing results. Our core packages do not provide visualizations because their dependencies would make installation unnecessarily complex, especially on headless servers (i.e., computers without a monitor where graphical libraries are not installed). Hence, visualizations of data and results are provided in <a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a>.</li>
</ul></section><section id="citation" class="level2" data-number="1.8"><h2 data-number="1.8" class="anchored" data-anchor-id="citation">
<span class="header-section-number">1.8</span> Citation</h2>
<p>Please cite this chapter as:</p>
<p>Kotthoff L, Sonabend R, Foss N, Bischl B. (2024). Introduction and Overview. In Bischl B, Sonabend R, Kotthoff L, Lang M, (Eds.), <em>Applied Machine Learning Using mlr3 in R</em>. CRC Press. https://mlr3book.mlr-org.com/introduction_and_overview.html.</p>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-mlr" class="csl-entry" role="listitem">
Bischl, Bernd, Michel Lang, Lars Kotthoff, Julia Schiffner, Jakob Richter, Erich Studerus, Giuseppe Casalicchio, and Zachary M. Jones. 2016. <span>“<span class="nocase">mlr</span>: <span>M</span>achine <span>L</span>earning in <span>R</span>.”</span> <em>Journal of Machine Learning Research</em> 17 (170): 1–5. <a href="http://jmlr.org/papers/v17/15-066.html">http://jmlr.org/papers/v17/15-066.html</a>.
</div>
<div id="ref-datatable" class="csl-entry" role="listitem">
<span>“Introduction to Data.table.”</span> 2023. <a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html" class="uri">https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html</a>.
</div>
<div id="ref-james2013introduction" class="csl-entry" role="listitem">
James, Gareth, Daniela Witten, Trevor Hastie, and Robert Tibshirani. 2013. <em>An Introduction to Statistical Learning</em>. Vol. 112. Springer.
</div>
<div id="ref-checkmate" class="csl-entry" role="listitem">
Lang, Michel. 2017. <span>“<span class="nocase">checkmate: Fast Argument Checks for Defensive R Programming</span>.”</span> <em><span>The R Journal</span></em> 9 (1): 437–45. <a href="https://doi.org/10.32614/RJ-2017-028">https://doi.org/10.32614/RJ-2017-028</a>.
</div>
<div id="ref-mlr3" class="csl-entry" role="listitem">
Lang, Michel, Martin Binder, Jakob Richter, Patrick Schratz, Florian Pfisterer, Stefan Coors, Quay Au, Giuseppe Casalicchio, Lars Kotthoff, and Bernd Bischl. 2019. <span>“<span class="nocase">mlr3</span>: A Modern Object-Oriented Machine Learning Framework in <span>R</span>.”</span> <em>Journal of Open Source Software</em>, December. <a href="https://doi.org/10.21105/joss.01903">https://doi.org/10.21105/joss.01903</a>.
</div>
<div id="ref-R" class="csl-entry" role="listitem">
R Core Team. 2019. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-Wickham2017R" class="csl-entry" role="listitem">
Wickham, Hadley, and Garrett Grolemund. 2017. <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em>. 1st ed. O’Reilly Media. <a href="http://r4ds.had.co.nz/">http://r4ds.had.co.nz/</a>.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../../index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Getting Started</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../chapters/chapter2/data_and_basic_modeling.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data and Basic Modeling</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb21" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Introduction and Overview {#sec-introduction}</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>{{&lt; include ../../common/_setup.qmd &gt;}}</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="in">`r chapter = "Introduction and Overview"`</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="in">`r authors(chapter)`</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>Welcome to the **M**achine **L**earning in **R** universe.</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>In this book, we will guide you through the functionality offered by <span class="in">`mlr3`</span> step by step.</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>If you want to contribute to our universe, ask any questions, read documentation, or just chat with the team, head to <span class="in">`r link("https://github.com/mlr-org/mlr3")`</span> which has several useful links in the README.</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>The <span class="in">`r mlr3`</span> <span class="co">[</span><span class="ot">@mlr3</span><span class="co">]</span> package and the wider <span class="in">`mlr3`</span> ecosystem provide a generic, <span class="in">`r index("object-oriented", "object-oriented programming")`</span>, and extensible framework for <span class="in">`r index("regression")`</span> (@sec-tasks), <span class="in">`r index("classification")`</span> (@sec-classif), and other machine learning <span class="in">`r index("tasks")`</span> (@sec-special) for the R language <span class="co">[</span><span class="ot">@R</span><span class="co">]</span>.</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>On the most basic level, the unified interface provides functionality to train, test, and evaluate many machine learning algorithms.</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>You can also take this a step further with hyperparameter optimization, computational pipelines, model interpretation, and much more.</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="in">`mlr3`</span> has similar overall aims to <span class="in">`caret`</span> and <span class="in">`tidymodels`</span> for R, <span class="in">`scikit-learn`</span> for Python, and <span class="in">`MLJ`</span> for Julia.</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>In general, <span class="in">`r mlr3`</span> is designed to provide more flexibility than other ML frameworks while still offering easy ways to use advanced functionality.</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>While <span class="in">`tidymodels`</span> in particular makes it very easy to perform simple ML tasks, <span class="in">`r mlr3`</span> is more geared towards advanced ML.</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>Before we can show you the full power of <span class="in">`mlr3`</span>, we recommend installing the <span class="in">`r mlr3verse`</span> package, which will install several, important packages in the <span class="in">`mlr3`</span> ecosystem.</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="in">```{r C0 install mlr3verse, eval = FALSE}</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"mlr3verse"</span>)</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a><span class="fu">## Installation Guidelines {#installguide}</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>There are many packages in the <span class="in">`mlr3`</span> ecosystem that you may want to use as you work through this book.</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>All our packages can be installed from GitHub and R-universe<span class="ot">[^runiverse]</span>; the majority (but not all) packages can also be installed from CRAN.</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>We recommend adding the mlr-org R-universe to your R options so you can install all packages with <span class="in">`install.packages()`</span>, without having to worry which package repository it comes from.</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>To do this, install <span class="in">`r ref_pkg("usethis")`</span> and run the following:</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="ot">[^runiverse]: </span>R-universe is an alternative package repository to CRAN. The bit of code below tells R to look at both R-universe and CRAN when trying to install packages. R will always install the latest version of a package.</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a><span class="in">```{r universe1, eval = FALSE}</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">edit_r_profile</span>()</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>In the file that opens add or change the <span class="in">`repos`</span> argument in <span class="in">`options`</span> so it looks something like the code below (you might need to add the full code block below or just edit the existing <span class="in">`options`</span> function).</span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a><span class="in">```{r universe2, eval = FALSE}</span></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">c</span>(</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">mlrorg =</span> <span class="st">"https://mlr-org.r-universe.dev"</span>,</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">CRAN =</span> <span class="st">"https://cloud.r-project.org/"</span></span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>Save the file, restart your R session, and you are ready to go!</span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>If you want the latest development version of any of our packages, run</span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a><span class="in">```{r remotes, eval = FALSE}</span></span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"mlr-org/{pkg}"</span>)</span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a>with <span class="in">`{pkg}`</span> replaced with the name of the package you want to install.</span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a>You can see an up-to-date list of all our extension packages at <span class="in">`r link("https://github.com/mlr-org/mlr3/wiki/Extension-Packages")`</span>.</span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a><span class="fu">## How to Use This Book {#howtouse}</span></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a>The <span class="in">`mlr3`</span> ecosystem is the result of many years of methodological and applied research.</span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a>This book describes the resulting features and discusses best practices for ML, technical implementation details, and in-depth considerations for model optimization.</span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a>This book may be helpful for both practitioners who want to quickly apply machine learning (ML) algorithms and researchers who want to implement, benchmark, and compare their new methods in a structured environment.</span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a>Whilst we hope this book is accessible to a wide range of readers and levels of ML expertise, we do assume that readers have taken at least an introductory ML course or have the equivalent expertise and some basic experience with R.</span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a>A background in computer science or statistics is beneficial for understanding the advanced functionality described in the later chapters of this book, but not required.</span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a>A comprehensive ML introduction for those new to the field can be found in @james2013introduction.</span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a>@Wickham2017R provides a comprehensive introduction to data science in R.</span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a>The book is split into the following four parts:</span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a>**Part I: Fundamentals**<span class="kw">&lt;br&gt;</span></span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a>In this part of the book we will teach you the fundamentals of <span class="in">`mlr3`</span>.</span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a>This will give you a flavor of the building blocks of the <span class="in">`mlr3`</span> universe and the basic tools you will need to tackle most machine learning problems.</span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a>We recommend that all readers study these chapters to become familiar with <span class="in">`mlr3`</span> terminology, syntax, and style.</span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a>In @sec-basics we will cover the basic classes in <span class="in">`r mlr3`</span>, including <span class="in">`Learner`</span> (machine learning implementations), <span class="in">`Measure`</span> (performance metrics), and <span class="in">`Task`</span> (machine learning task definitions).</span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a>@sec-performance will take evaluation a step further to include discussions about resampling -- robust strategies for measuring model performance -- and benchmarking -- experiments for comparing multiple models.</span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a>**Part II: Tuning and Feature Selection**<span class="kw">&lt;br&gt;</span></span>
<span id="cb21-78"><a href="#cb21-78" aria-hidden="true" tabindex="-1"></a>In this part of the book, we will look at more advanced methodology that is essential to developing powerful ML models with good predictive ability.</span>
<span id="cb21-79"><a href="#cb21-79" aria-hidden="true" tabindex="-1"></a>We will demonstrate how to manually make use of these methods using <span class="in">`mlr3`</span> code and also the automated implementations that are included to make your ML workflow even more efficient.</span>
<span id="cb21-80"><a href="#cb21-80" aria-hidden="true" tabindex="-1"></a>@sec-optimization introduces hyperparameter optimization, which is the process of tuning model hyperparameters to obtain better model performance.</span>
<span id="cb21-81"><a href="#cb21-81" aria-hidden="true" tabindex="-1"></a>Tuning is implemented via the <span class="in">`r mlr3tuning`</span> package, which also includes methods for automating complex tuning processes, including nested resampling.</span>
<span id="cb21-82"><a href="#cb21-82" aria-hidden="true" tabindex="-1"></a>The performance of ML models can be improved by tuning hyperparameters but also by carefully selecting features from the training dataset.</span>
<span id="cb21-83"><a href="#cb21-83" aria-hidden="true" tabindex="-1"></a>@sec-feature-selection introduces manual and automated feature selection with filters and wrappers implemented in <span class="in">`r mlr3filters`</span> and <span class="in">`r mlr3fselect`</span>.</span>
<span id="cb21-84"><a href="#cb21-84" aria-hidden="true" tabindex="-1"></a>For readers interested in taking a deep dive into tuning, @sec-optimization-advanced discusses advanced tuning methods including error handling, multi-objective tuning, and tuning with Hyperband and Bayesian Optimization methods.</span>
<span id="cb21-85"><a href="#cb21-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-86"><a href="#cb21-86" aria-hidden="true" tabindex="-1"></a>**Part III: Pipelines and Preprocessing**<span class="kw">&lt;br&gt;</span></span>
<span id="cb21-87"><a href="#cb21-87" aria-hidden="true" tabindex="-1"></a>In Part III we introduce <span class="in">`r mlr3pipelines`</span>, which implements pipelines to automate many parts of a ML workflow.</span>
<span id="cb21-88"><a href="#cb21-88" aria-hidden="true" tabindex="-1"></a>In @sec-pipelines we will show you how to build a pipeline out of discrete configurable operations and how to treat complex pipelines as if they were any other machine learning model.</span>
<span id="cb21-89"><a href="#cb21-89" aria-hidden="true" tabindex="-1"></a>In @sec-pipelines-nonseq we will build on the previous chapter by introducing non-sequential pipelines, which can carry out multiple operations that may not progress in a linear order.</span>
<span id="cb21-90"><a href="#cb21-90" aria-hidden="true" tabindex="-1"></a>We will also demonstrate how to tune pipelines, including how to tune which operations should be included in the pipeline.</span>
<span id="cb21-91"><a href="#cb21-91" aria-hidden="true" tabindex="-1"></a>Finally, in @sec-preprocessing we will put pipelines into practice by demonstrating how to solve common problems that occur when fitting ML models to messy data.</span>
<span id="cb21-92"><a href="#cb21-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-93"><a href="#cb21-93" aria-hidden="true" tabindex="-1"></a>**Part IV: Advanced Topics**<span class="kw">&lt;br&gt;</span></span>
<span id="cb21-94"><a href="#cb21-94" aria-hidden="true" tabindex="-1"></a>In the final part of the book, we will look at advanced implementation as well as theory that can be used to fine-tune experiments, analyze results in detail, and apply domain-specific methods.</span>
<span id="cb21-95"><a href="#cb21-95" aria-hidden="true" tabindex="-1"></a>This part of the book is more theory-heavy to help ground the design and implementation decisions.</span>
<span id="cb21-96"><a href="#cb21-96" aria-hidden="true" tabindex="-1"></a>We will begin by looking at advanced technical details in @sec-technical that are essential reading for advanced users who require parallelization, custom error handling, and fine control over hyperparameters and large databases.</span>
<span id="cb21-97"><a href="#cb21-97" aria-hidden="true" tabindex="-1"></a>@sec-large-benchmarking will build on all preceding chapters to introduce large-scale benchmarking experiments that compare many models, tasks, and measures; including how to make use of <span class="in">`mlr3`</span> extension packages for loading data, using high-performance computing clusters, and formal statistical analysis of benchmark experiments.</span>
<span id="cb21-98"><a href="#cb21-98" aria-hidden="true" tabindex="-1"></a>@sec-interpretation will discuss different packages that are compatible with <span class="in">`mlr3`</span> to provide model-agnostic interpretability methods including SHAPs and feature permutation methods.</span>
<span id="cb21-99"><a href="#cb21-99" aria-hidden="true" tabindex="-1"></a>@sec-special will then delve into detail on domain-specific methods that are implemented in our extension packages including survival analysis, density estimation, spatio-temporal analysis, and more.</span>
<span id="cb21-100"><a href="#cb21-100" aria-hidden="true" tabindex="-1"></a>Readers may choose to selectively read sections in this chapter depending on your use case (i.e., if you have domain-specific problems to tackle), or to use these as introductions to new domains to explore.</span>
<span id="cb21-101"><a href="#cb21-101" aria-hidden="true" tabindex="-1"></a>Finally, @sec-fairness will introduce algorithmic fairness, which includes specialized measures and methods to identify and reduce algorithmic biases.</span>
<span id="cb21-102"><a href="#cb21-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-103"><a href="#cb21-103" aria-hidden="true" tabindex="-1"></a>We have included a box at the top of all 'optional' sections to mark sections that are particularly complex with respect to either technical or methodological detail and could be skipped on a first read.</span>
<span id="cb21-104"><a href="#cb21-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-105"><a href="#cb21-105" aria-hidden="true" tabindex="-1"></a>Each chapter includes tutorials, API references, and explanations of methodologies.</span>
<span id="cb21-106"><a href="#cb21-106" aria-hidden="true" tabindex="-1"></a>At the end of each part of the book we have included exercises for you to test yourself on what you have learned, you can find the solutions to these exercises at <span class="in">`r link("https://mlr3book.mlr-org.com/solutions.html")`</span>.</span>
<span id="cb21-107"><a href="#cb21-107" aria-hidden="true" tabindex="-1"></a>If you want to reproduce any of the results in this book, note that at the start of each chapter we run <span class="in">`set.seed(123)`</span> and the <span class="in">`sessionInfo`</span> at the time of publication is printed in @sec-session-info.</span>
<span id="cb21-108"><a href="#cb21-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-109"><a href="#cb21-109" aria-hidden="true" tabindex="-1"></a><span class="fu">## mlr3book Code Style {#styleguide}</span></span>
<span id="cb21-110"><a href="#cb21-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-111"><a href="#cb21-111" aria-hidden="true" tabindex="-1"></a>Throughout this book we will use the following code style:</span>
<span id="cb21-112"><a href="#cb21-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-113"><a href="#cb21-113" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>We always use <span class="in">`=`</span> instead of <span class="in">`&lt;-`</span> for assignment.</span>
<span id="cb21-114"><a href="#cb21-114" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Class names are in <span class="in">`UpperCamelCase`</span></span>
<span id="cb21-115"><a href="#cb21-115" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Function and method names are in <span class="in">`lower_snake_case`</span></span>
<span id="cb21-116"><a href="#cb21-116" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>When referencing functions, we will only include the package prefix (e.g., <span class="in">`pkg::function`</span>) for functions outside the <span class="in">`mlr3`</span> universe or when there may be ambiguity about in which package the function lives. Note you can use <span class="in">`environment(function)`</span> to see which namespace a function is loaded from.</span>
<span id="cb21-117"><a href="#cb21-117" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>We denote packages, fields, methods, and functions as follows:</span>
<span id="cb21-118"><a href="#cb21-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-119"><a href="#cb21-119" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span><span class="in">`package`</span> - With link (if online) to package CRAN, R-Universe, or GitHub page</span>
<span id="cb21-120"><a href="#cb21-120" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span><span class="in">`package::function()`</span> or <span class="in">`function()`</span> (see point 4)</span>
<span id="cb21-121"><a href="#cb21-121" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span><span class="in">`$field`</span> for fields (data encapsulated in an R6 class)</span>
<span id="cb21-122"><a href="#cb21-122" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span><span class="in">`$method()`</span> for methods (functions encapsulated in an R6 class)</span>
<span id="cb21-123"><a href="#cb21-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-124"><a href="#cb21-124" aria-hidden="true" tabindex="-1"></a>Now let us see this in practice with our first example.</span>
<span id="cb21-125"><a href="#cb21-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-126"><a href="#cb21-126" aria-hidden="true" tabindex="-1"></a><span class="fu">## mlr3 By Example</span></span>
<span id="cb21-127"><a href="#cb21-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-128"><a href="#cb21-128" aria-hidden="true" tabindex="-1"></a>The <span class="in">`mlr3`</span> universe includes a wide range of tools taking you from basic ML to complex experiments.</span>
<span id="cb21-129"><a href="#cb21-129" aria-hidden="true" tabindex="-1"></a>To get started, here is an example of the simplest functionality -- training a model and making predictions.</span>
<span id="cb21-130"><a href="#cb21-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-131"><a href="#cb21-131" aria-hidden="true" tabindex="-1"></a><span class="in">```{r C0 egBasic}</span></span>
<span id="cb21-132"><a href="#cb21-132" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3)</span>
<span id="cb21-133"><a href="#cb21-133" aria-hidden="true" tabindex="-1"></a>task <span class="ot">=</span> <span class="fu">tsk</span>(<span class="st">"penguins"</span>)</span>
<span id="cb21-134"><a href="#cb21-134" aria-hidden="true" tabindex="-1"></a>split <span class="ot">=</span> <span class="fu">partition</span>(task)</span>
<span id="cb21-135"><a href="#cb21-135" aria-hidden="true" tabindex="-1"></a>learner <span class="ot">=</span> <span class="fu">lrn</span>(<span class="st">"classif.rpart"</span>)</span>
<span id="cb21-136"><a href="#cb21-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-137"><a href="#cb21-137" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span><span class="fu">train</span>(task, <span class="at">row_ids =</span> split<span class="sc">$</span>train)</span>
<span id="cb21-138"><a href="#cb21-138" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>model</span>
<span id="cb21-139"><a href="#cb21-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-140"><a href="#cb21-140" aria-hidden="true" tabindex="-1"></a>predictions <span class="ot">=</span> learner<span class="sc">$</span><span class="fu">predict</span>(task, <span class="at">row_ids =</span> split<span class="sc">$</span>test)</span>
<span id="cb21-141"><a href="#cb21-141" aria-hidden="true" tabindex="-1"></a>predictions</span>
<span id="cb21-142"><a href="#cb21-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-143"><a href="#cb21-143" aria-hidden="true" tabindex="-1"></a>predictions<span class="sc">$</span><span class="fu">score</span>(<span class="fu">msr</span>(<span class="st">"classif.acc"</span>))</span>
<span id="cb21-144"><a href="#cb21-144" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-145"><a href="#cb21-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-146"><a href="#cb21-146" aria-hidden="true" tabindex="-1"></a>In this example, we trained a decision tree on a subset of the <span class="in">`r ref("palmerpenguins::penguins")`</span> dataset, made predictions on the rest of the data and then evaluated these with the accuracy measure.</span>
<span id="cb21-147"><a href="#cb21-147" aria-hidden="true" tabindex="-1"></a>In @sec-basics we will break this down in more detail.</span>
<span id="cb21-148"><a href="#cb21-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-149"><a href="#cb21-149" aria-hidden="true" tabindex="-1"></a>The <span class="in">`mlr3`</span> interface also lets you run more complicated experiments in just a few lines of code:</span>
<span id="cb21-150"><a href="#cb21-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-151"><a href="#cb21-151" aria-hidden="true" tabindex="-1"></a><span class="in">```{r C0 egHard, eval = FALSE}</span></span>
<span id="cb21-152"><a href="#cb21-152" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3verse)</span>
<span id="cb21-153"><a href="#cb21-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-154"><a href="#cb21-154" aria-hidden="true" tabindex="-1"></a>tasks <span class="ot">=</span> <span class="fu">tsks</span>(<span class="fu">c</span>(<span class="st">"breast_cancer"</span>, <span class="st">"sonar"</span>))</span>
<span id="cb21-155"><a href="#cb21-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-156"><a href="#cb21-156" aria-hidden="true" tabindex="-1"></a>tuned_rf <span class="ot">=</span> <span class="fu">as_learner</span>(<span class="fu">ppl</span>(<span class="st">"robustify"</span>) <span class="sc">%&gt;%</span> <span class="fu">auto_tuner</span>(</span>
<span id="cb21-157"><a href="#cb21-157" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tnr</span>(<span class="st">"grid_search"</span>, <span class="at">resolution =</span> <span class="dv">5</span>),</span>
<span id="cb21-158"><a href="#cb21-158" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lrn</span>(<span class="st">"classif.ranger"</span>, <span class="at">num.trees =</span> <span class="fu">to_tune</span>(<span class="dv">200</span>, <span class="dv">500</span>)),</span>
<span id="cb21-159"><a href="#cb21-159" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rsmp</span>(<span class="st">"holdout"</span>)</span>
<span id="cb21-160"><a href="#cb21-160" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb21-161"><a href="#cb21-161" aria-hidden="true" tabindex="-1"></a>tuned_rf<span class="sc">$</span>id <span class="ot">=</span> <span class="st">"RF"</span></span>
<span id="cb21-162"><a href="#cb21-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-163"><a href="#cb21-163" aria-hidden="true" tabindex="-1"></a>stack_lrn <span class="ot">=</span> <span class="fu">as_learner</span>(<span class="fu">ppl</span>(<span class="st">"robustify"</span>) <span class="sc">%&gt;%</span> <span class="fu">ppl</span>(<span class="st">"stacking"</span>,</span>
<span id="cb21-164"><a href="#cb21-164" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lrns</span>(<span class="fu">c</span>(<span class="st">"classif.rpart"</span>, <span class="st">"classif.kknn"</span>)),</span>
<span id="cb21-165"><a href="#cb21-165" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lrn</span>(<span class="st">"classif.log_reg"</span>)</span>
<span id="cb21-166"><a href="#cb21-166" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb21-167"><a href="#cb21-167" aria-hidden="true" tabindex="-1"></a>stack_lrn<span class="sc">$</span>id <span class="ot">=</span> <span class="st">"Stack"</span></span>
<span id="cb21-168"><a href="#cb21-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-169"><a href="#cb21-169" aria-hidden="true" tabindex="-1"></a>learners <span class="ot">=</span> <span class="fu">c</span>(tuned_rf, stack_lrn)</span>
<span id="cb21-170"><a href="#cb21-170" aria-hidden="true" tabindex="-1"></a>bm <span class="ot">=</span> <span class="fu">benchmark</span>(<span class="fu">benchmark_grid</span>(tasks, learners, <span class="fu">rsmp</span>(<span class="st">"cv"</span>, <span class="at">folds =</span> <span class="dv">3</span>)))</span>
<span id="cb21-171"><a href="#cb21-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-172"><a href="#cb21-172" aria-hidden="true" tabindex="-1"></a>bm<span class="sc">$</span><span class="fu">aggregate</span>(<span class="fu">msr</span>(<span class="st">"classif.acc"</span>))</span>
<span id="cb21-173"><a href="#cb21-173" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-174"><a href="#cb21-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-175"><a href="#cb21-175" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, output = FALSE, echo = FALSE}</span></span>
<span id="cb21-176"><a href="#cb21-176" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3verse)</span>
<span id="cb21-177"><a href="#cb21-177" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3pipelines)</span>
<span id="cb21-178"><a href="#cb21-178" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlr3benchmark)</span>
<span id="cb21-179"><a href="#cb21-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-180"><a href="#cb21-180" aria-hidden="true" tabindex="-1"></a>tasks <span class="ot">=</span> <span class="fu">tsks</span>(<span class="fu">c</span>(<span class="st">"breast_cancer"</span>, <span class="st">"sonar"</span>))</span>
<span id="cb21-181"><a href="#cb21-181" aria-hidden="true" tabindex="-1"></a>tuned_rf <span class="ot">=</span> <span class="fu">auto_tuner</span>(</span>
<span id="cb21-182"><a href="#cb21-182" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tnr</span>(<span class="st">"grid_search"</span>, <span class="at">resolution =</span> <span class="dv">5</span>),</span>
<span id="cb21-183"><a href="#cb21-183" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lrn</span>(<span class="st">"classif.ranger"</span>, <span class="at">num.trees =</span> <span class="fu">to_tune</span>(<span class="dv">200</span>, <span class="dv">500</span>)),</span>
<span id="cb21-184"><a href="#cb21-184" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rsmp</span>(<span class="st">"holdout"</span>)</span>
<span id="cb21-185"><a href="#cb21-185" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-186"><a href="#cb21-186" aria-hidden="true" tabindex="-1"></a>tuned_rf <span class="ot">=</span> <span class="fu">pipeline_robustify</span>(<span class="cn">NULL</span>, tuned_rf, <span class="cn">TRUE</span>) <span class="sc">%&gt;&gt;%</span></span>
<span id="cb21-187"><a href="#cb21-187" aria-hidden="true" tabindex="-1"></a>    <span class="fu">po</span>(<span class="st">"learner"</span>, tuned_rf)</span>
<span id="cb21-188"><a href="#cb21-188" aria-hidden="true" tabindex="-1"></a>stack_lrn <span class="ot">=</span> <span class="fu">ppl</span>(</span>
<span id="cb21-189"><a href="#cb21-189" aria-hidden="true" tabindex="-1"></a>    <span class="st">"stacking"</span>,</span>
<span id="cb21-190"><a href="#cb21-190" aria-hidden="true" tabindex="-1"></a>    <span class="at">base_learners =</span> <span class="fu">lrns</span>(<span class="fu">c</span>(<span class="st">"classif.rpart"</span>, <span class="st">"classif.kknn"</span>)),</span>
<span id="cb21-191"><a href="#cb21-191" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lrn</span>(<span class="st">"classif.log_reg"</span>))</span>
<span id="cb21-192"><a href="#cb21-192" aria-hidden="true" tabindex="-1"></a>stack_lrn <span class="ot">=</span> <span class="fu">pipeline_robustify</span>(<span class="cn">NULL</span>, stack_lrn, <span class="cn">TRUE</span>) <span class="sc">%&gt;&gt;%</span></span>
<span id="cb21-193"><a href="#cb21-193" aria-hidden="true" tabindex="-1"></a>    <span class="fu">po</span>(<span class="st">"learner"</span>, stack_lrn)</span>
<span id="cb21-194"><a href="#cb21-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-195"><a href="#cb21-195" aria-hidden="true" tabindex="-1"></a>learners <span class="ot">=</span> <span class="fu">c</span>(tuned_rf, stack_lrn)</span>
<span id="cb21-196"><a href="#cb21-196" aria-hidden="true" tabindex="-1"></a>bm <span class="ot">=</span> <span class="fu">benchmark</span>(<span class="fu">benchmark_grid</span>(tasks, learners, <span class="fu">rsmp</span>(<span class="st">"holdout"</span>)))</span>
<span id="cb21-197"><a href="#cb21-197" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-198"><a href="#cb21-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-199"><a href="#cb21-199" aria-hidden="true" tabindex="-1"></a><span class="in">```{r C0 egHardOut, echo = FALSE}</span></span>
<span id="cb21-200"><a href="#cb21-200" aria-hidden="true" tabindex="-1"></a>bma <span class="ot">=</span> bm<span class="sc">$</span><span class="fu">aggregate</span>(<span class="fu">msr</span>(<span class="st">"classif.acc"</span>))[, <span class="fu">c</span>(<span class="st">"task_id"</span>, <span class="st">"learner_id"</span>,</span>
<span id="cb21-201"><a href="#cb21-201" aria-hidden="true" tabindex="-1"></a>  <span class="st">"classif.acc"</span>)]</span>
<span id="cb21-202"><a href="#cb21-202" aria-hidden="true" tabindex="-1"></a>bma<span class="sc">$</span>learner_id <span class="ot">=</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"RF"</span>, <span class="st">"Stack"</span>), <span class="dv">2</span>)</span>
<span id="cb21-203"><a href="#cb21-203" aria-hidden="true" tabindex="-1"></a>bma</span>
<span id="cb21-204"><a href="#cb21-204" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-205"><a href="#cb21-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-206"><a href="#cb21-206" aria-hidden="true" tabindex="-1"></a>In this (much more complex!) example we chose two tasks and two learners and used automated tuning to optimize the number of trees in the random forest learner (@sec-optimization), and a machine learning pipeline that imputes missing data, collapses factor levels, and creates stacked models (@sec-pipelines and @sec-pipelines-nonseq).</span>
<span id="cb21-207"><a href="#cb21-207" aria-hidden="true" tabindex="-1"></a>We also showed basic features like loading learners (@sec-basics) and choosing resampling strategies for benchmarking (@sec-performance).</span>
<span id="cb21-208"><a href="#cb21-208" aria-hidden="true" tabindex="-1"></a>Finally, we compared the performance of the models using the mean accuracy with 3-fold cross-validation.</span>
<span id="cb21-209"><a href="#cb21-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-210"><a href="#cb21-210" aria-hidden="true" tabindex="-1"></a>You will learn how to do all this and more in this book.</span>
<span id="cb21-211"><a href="#cb21-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-212"><a href="#cb21-212" aria-hidden="true" tabindex="-1"></a><span class="fu">## The `mlr3` Ecosystem</span></span>
<span id="cb21-213"><a href="#cb21-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-214"><a href="#cb21-214" aria-hidden="true" tabindex="-1"></a>Throughout this book, we often refer to <span class="in">`mlr3`</span>, which does not refer to the single <span class="in">`r mlr3`</span> base package but all the packages in our ecosystem.</span>
<span id="cb21-215"><a href="#cb21-215" aria-hidden="true" tabindex="-1"></a>The <span class="in">`r mlr3`</span> *package* provides the base functionality that the rest of the ecosystem depends on for building more advanced machine learning tools.</span>
<span id="cb21-216"><a href="#cb21-216" aria-hidden="true" tabindex="-1"></a>@fig-mlr3verse shows the packages in the <span class="in">`mlr3verse`</span> that extend <span class="in">`r mlr3`</span> with capabilities for preprocessing, pipelining, visualizations, additional learners, additional task types, and more.</span>
<span id="cb21-217"><a href="#cb21-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-218"><a href="#cb21-218" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- </span><span class="al">FIXME</span><span class="co">: FIX BELOW FOR PDF --&gt;</span></span>
<span id="cb21-219"><a href="#cb21-219" aria-hidden="true" tabindex="-1"></a><span class="in">```{r intro-001, echo = FALSE, fig.align='center', out.width="98%", eval=knitr::is_html_output()}</span></span>
<span id="cb21-220"><a href="#cb21-220" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-mlr3verse</span></span>
<span id="cb21-221"><a href="#cb21-221" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Overview of the `mlr3` ecosystem, the `mlr3verse`.</span></span>
<span id="cb21-222"><a href="#cb21-222" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-alt: Diagram showing the packages of the mlr3verse and their relationship.</span></span>
<span id="cb21-223"><a href="#cb21-223" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/mlr3verse.svg"</span>)</span>
<span id="cb21-224"><a href="#cb21-224" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-225"><a href="#cb21-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-226"><a href="#cb21-226" aria-hidden="true" tabindex="-1"></a>A complete and up-to-date list of extension packages can be found at <span class="in">`r link("https://mlr-org.com/ecosystem.html")`</span>.</span>
<span id="cb21-227"><a href="#cb21-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-228"><a href="#cb21-228" aria-hidden="true" tabindex="-1"></a>As well as packages within the <span class="in">`mlr3`</span> ecosystem, software in the <span class="in">`mlr3verse`</span> also depends on the following popular and well-established packages:</span>
<span id="cb21-229"><a href="#cb21-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-230"><a href="#cb21-230" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("R6")`</span>: The class system predominantly used in <span class="in">`mlr3`</span>.</span>
<span id="cb21-231"><a href="#cb21-231" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("data.table")`</span>: High-performance extension of R's <span class="in">`data.frame`</span>.</span>
<span id="cb21-232"><a href="#cb21-232" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("digest")`</span>: Cryptographic hash functions.</span>
<span id="cb21-233"><a href="#cb21-233" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("uuid")`</span>: Generation of universally unique identifiers.</span>
<span id="cb21-234"><a href="#cb21-234" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("lgr")`</span>: Configurable logging library.</span>
<span id="cb21-235"><a href="#cb21-235" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("mlbench")`</span> and <span class="in">`r ref_pkg("palmerpenguins")`</span>: More machine learning data sets.</span>
<span id="cb21-236"><a href="#cb21-236" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("evaluate")`</span>: For capturing output, warnings, and exceptions (@sec-error-handling).</span>
<span id="cb21-237"><a href="#cb21-237" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("future")`</span> / <span class="in">`r ref_pkg("future.apply")`</span> / <span class="in">`r ref_pkg("parallelly")`</span>: For parallelization (@sec-parallelization).</span>
<span id="cb21-238"><a href="#cb21-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-239"><a href="#cb21-239" aria-hidden="true" tabindex="-1"></a>We build on <span class="in">`r ref_pkg("R6")`</span> for object orientation and <span class="in">`r ref_pkg("data.table")`</span> to store and operate on tabular data.</span>
<span id="cb21-240"><a href="#cb21-240" aria-hidden="true" tabindex="-1"></a>As both are core to <span class="in">`mlr3`</span> we *briefly* introduce both packages for beginners; in-depth expertise with these packages is not necessary to work with <span class="in">`mlr3`</span>.</span>
<span id="cb21-241"><a href="#cb21-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-242"><a href="#cb21-242" aria-hidden="true" tabindex="-1"></a><span class="fu">### R6 for Beginners {#sec-r6}</span></span>
<span id="cb21-243"><a href="#cb21-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-244"><a href="#cb21-244" aria-hidden="true" tabindex="-1"></a><span class="in">`r ref_pkg("R6")`</span> is one of R's more recent paradigms for <span class="in">`r index('object-oriented programming')`</span> (OOP).</span>
<span id="cb21-245"><a href="#cb21-245" aria-hidden="true" tabindex="-1"></a>If you have experience with any (class) object-oriented programming then R6 should feel familiar.</span>
<span id="cb21-246"><a href="#cb21-246" aria-hidden="true" tabindex="-1"></a>We focus on the parts of R6 that you need to know to use <span class="in">`mlr3`</span>.</span>
<span id="cb21-247"><a href="#cb21-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-248"><a href="#cb21-248" aria-hidden="true" tabindex="-1"></a><span class="in">`r index('Objects', "objects", parent = "R6", aside = TRUE, lower = FALSE)`</span> are created by constructing an instance of an <span class="in">`r ref("R6::R6Class")`</span> variable using the <span class="in">`$new()`</span> initialization method.</span>
<span id="cb21-249"><a href="#cb21-249" aria-hidden="true" tabindex="-1"></a>For example, say we have implemented a class called <span class="in">`Foo`</span>, then  <span class="in">`foo = Foo$new(bar = 1)`</span> would create a new object of class <span class="in">`Foo`</span> and set the <span class="in">`bar`</span> argument of the constructor to the value <span class="in">`1`</span>.</span>
<span id="cb21-250"><a href="#cb21-250" aria-hidden="true" tabindex="-1"></a>In practice, we implement a lot of sugar functionality (@sec-mlr3-utilities) in <span class="in">`mlr3`</span> so you do not need to interact with <span class="in">`R6`</span> constructors in this way if you would prefer not to.</span>
<span id="cb21-251"><a href="#cb21-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-252"><a href="#cb21-252" aria-hidden="true" tabindex="-1"></a>Some <span class="in">`R6`</span> objects may have mutable states that are encapsulated in their <span class="in">`r index('fields', parent = "R6", aside = TRUE, lower = FALSE)`</span>, which can be accessed through the dollar, <span class="in">`$`</span>, operator.</span>
<span id="cb21-253"><a href="#cb21-253" aria-hidden="true" tabindex="-1"></a>Continuing the previous example, we can access the <span class="in">`bar`</span> value in the <span class="in">`foo`</span> object by using <span class="in">`foo$bar`</span> or we could give it a new value, e.g. <span class="in">`foo$bar = 2`</span>.</span>
<span id="cb21-254"><a href="#cb21-254" aria-hidden="true" tabindex="-1"></a>These fields are known as 'active bindings' and it is important to note that when called, computations are being run in the background.</span>
<span id="cb21-255"><a href="#cb21-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-256"><a href="#cb21-256" aria-hidden="true" tabindex="-1"></a>In addition to fields, <span class="in">`r index('methods', parent = "R6", aside = TRUE, lower = FALSE)`</span> allow users to inspect the object's state, retrieve information, or perform an action that changes the internal state of the object.</span>
<span id="cb21-257"><a href="#cb21-257" aria-hidden="true" tabindex="-1"></a>For example, in <span class="in">`mlr3`</span>, the <span class="in">`$train()`</span> method of a learner changes the internal state of the learner by building and storing a model.</span>
<span id="cb21-258"><a href="#cb21-258" aria-hidden="true" tabindex="-1"></a>Methods can be 'chained' in R6 by calling one immediately after the other using the <span class="in">`$`</span>-operator, this is similar to the <span class="in">`%&gt;%`</span>-operator used in <span class="in">`tidyverse`</span> packages.</span>
<span id="cb21-259"><a href="#cb21-259" aria-hidden="true" tabindex="-1"></a>For example, <span class="in">`Foo$bar()$hello_world()`</span> would run the <span class="in">`$bar()`</span> method of the object <span class="in">`Foo`</span> and then the <span class="in">`$hello_world()`</span> method of the object returned by <span class="in">`$bar()`</span> (which may be <span class="in">`Foo`</span>).</span>
<span id="cb21-260"><a href="#cb21-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-261"><a href="#cb21-261" aria-hidden="true" tabindex="-1"></a>Fields and methods can be public or private\index{R6!methods!private}\index{R6!methods!public}\index{R6!fields!private}\index{R6!fields!public}.</span>
<span id="cb21-262"><a href="#cb21-262" aria-hidden="true" tabindex="-1"></a>The public fields and methods define the API to interact with the object.</span>
<span id="cb21-263"><a href="#cb21-263" aria-hidden="true" tabindex="-1"></a>In <span class="in">`mlr3`</span>, you can safely ignore private methods unless you are looking to extend our universe by adding a new class (@sec-technical).</span>
<span id="cb21-264"><a href="#cb21-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-265"><a href="#cb21-265" aria-hidden="true" tabindex="-1"></a>Finally, <span class="in">`R6`</span> objects are <span class="in">`environments`</span>, and as such have reference semantics.</span>
<span id="cb21-266"><a href="#cb21-266" aria-hidden="true" tabindex="-1"></a>This means that, for example, <span class="in">`foo2 = foo`</span> does not create a new variable called <span class="in">`foo2`</span> that is a copy of <span class="in">`foo`</span>.</span>
<span id="cb21-267"><a href="#cb21-267" aria-hidden="true" tabindex="-1"></a>Instead, it creates a variable called <span class="in">`foo2`</span> that references <span class="in">`foo`</span>, and so setting <span class="in">`foo$bar = 3`</span> will also change <span class="in">`foo2$bar`</span> to <span class="in">`3`</span> and vice versa.</span>
<span id="cb21-268"><a href="#cb21-268" aria-hidden="true" tabindex="-1"></a>To copy an object, use the <span class="in">`$clone(deep = TRUE)`</span> method, so to copy <span class="in">`foo`</span>: <span class="in">`foo2 = foo$clone(deep = TRUE)`</span><span class="co">[</span><span class="ot">`$clone()`</span><span class="co">]</span>{.aside}\index{R6!\texttt{\$clone()}}.</span>
<span id="cb21-269"><a href="#cb21-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-270"><a href="#cb21-270" aria-hidden="true" tabindex="-1"></a>For a longer introduction, we recommend the <span class="in">`R6`</span> vignettes found at <span class="in">`r link("https://r6.r-lib.org/")`</span>, more detail can be found in <span class="in">`r link("https://adv-r.hadley.nz/r6.html")`</span>.</span>
<span id="cb21-271"><a href="#cb21-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-272"><a href="#cb21-272" aria-hidden="true" tabindex="-1"></a><span class="fu">### data.table for Beginners {#sec-data.table}</span></span>
<span id="cb21-273"><a href="#cb21-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-274"><a href="#cb21-274" aria-hidden="true" tabindex="-1"></a>The package <span class="in">`r ref_pkg("data.table")`</span> implements the <span class="in">`r ref("data.table()")`</span>, which is a popular alternative to R's <span class="in">`data.frame()`</span>.</span>
<span id="cb21-275"><a href="#cb21-275" aria-hidden="true" tabindex="-1"></a>We use <span class="in">`r ref_pkg("data.table")`</span> because it is blazingly fast and scales well to bigger data.</span>
<span id="cb21-276"><a href="#cb21-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-277"><a href="#cb21-277" aria-hidden="true" tabindex="-1"></a>As with <span class="in">`data.frame`</span>, <span class="in">`data.table`</span>s can be constructed with <span class="in">`r ref("data.table()")`</span> or <span class="in">`r ref("as.data.table()")`</span>:</span>
<span id="cb21-278"><a href="#cb21-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-279"><a href="#cb21-279" aria-hidden="true" tabindex="-1"></a><span class="in">```{r intro-002.table-001.table-002}</span></span>
<span id="cb21-280"><a href="#cb21-280" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb21-281"><a href="#cb21-281" aria-hidden="true" tabindex="-1"></a><span class="co"># converting a matrix with as.data.table</span></span>
<span id="cb21-282"><a href="#cb21-282" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.table</span>(<span class="fu">matrix</span>(<span class="fu">runif</span>(<span class="dv">4</span>), <span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb21-283"><a href="#cb21-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-284"><a href="#cb21-284" aria-hidden="true" tabindex="-1"></a><span class="co"># using data.table</span></span>
<span id="cb21-285"><a href="#cb21-285" aria-hidden="true" tabindex="-1"></a>dt <span class="ot">=</span> <span class="fu">data.table</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">y =</span> <span class="fu">rep</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">each =</span> <span class="dv">2</span>))</span>
<span id="cb21-286"><a href="#cb21-286" aria-hidden="true" tabindex="-1"></a>dt</span>
<span id="cb21-287"><a href="#cb21-287" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-288"><a href="#cb21-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-289"><a href="#cb21-289" aria-hidden="true" tabindex="-1"></a><span class="in">`data.table`</span>s can be used much like <span class="in">`data.frame`</span>s, but they provide additional functionality that makes complex operations easier.</span>
<span id="cb21-290"><a href="#cb21-290" aria-hidden="true" tabindex="-1"></a>For example, data can be summarized by groups with a <span class="in">`by`</span> argument in the <span class="in">`[`</span> operator and they are mutable:</span>
<span id="cb21-291"><a href="#cb21-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-292"><a href="#cb21-292" aria-hidden="true" tabindex="-1"></a><span class="in">```{r intro-004.table-003.table-004}</span></span>
<span id="cb21-293"><a href="#cb21-293" aria-hidden="true" tabindex="-1"></a><span class="co"># mean of x column in groups given by y</span></span>
<span id="cb21-294"><a href="#cb21-294" aria-hidden="true" tabindex="-1"></a>dt[, <span class="fu">mean</span>(x), by <span class="ot">=</span> <span class="st">"y"</span>]</span>
<span id="cb21-295"><a href="#cb21-295" aria-hidden="true" tabindex="-1"></a><span class="co"># adding a new column with :=</span></span>
<span id="cb21-296"><a href="#cb21-296" aria-hidden="true" tabindex="-1"></a>dt[, z <span class="sc">:</span><span class="er">=</span> x <span class="sc">*</span> <span class="dv">3</span>]</span>
<span id="cb21-297"><a href="#cb21-297" aria-hidden="true" tabindex="-1"></a>dt</span>
<span id="cb21-298"><a href="#cb21-298" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb21-299"><a href="#cb21-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-300"><a href="#cb21-300" aria-hidden="true" tabindex="-1"></a>Finally <span class="in">`data.table`</span> also uses reference semantics so you will need to use <span class="in">`r ref("data.table::copy()")`</span> to clone a <span class="in">`data.table`</span>.</span>
<span id="cb21-301"><a href="#cb21-301" aria-hidden="true" tabindex="-1"></a>For an in-depth introduction, we recommend the vignette @datatable.</span>
<span id="cb21-302"><a href="#cb21-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-303"><a href="#cb21-303" aria-hidden="true" tabindex="-1"></a><span class="fu">## Essential mlr3 Utilities {#sec-mlr3-utilities}</span></span>
<span id="cb21-304"><a href="#cb21-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-305"><a href="#cb21-305" aria-hidden="true" tabindex="-1"></a><span class="in">`mlr3`</span> includes a few important utilities that are essential to simplifying our ecosystem and making it easier to navigate.</span>
<span id="cb21-306"><a href="#cb21-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-307"><a href="#cb21-307" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sugar Functions {.unnumbered .unlisted}</span></span>
<span id="cb21-308"><a href="#cb21-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-309"><a href="#cb21-309" aria-hidden="true" tabindex="-1"></a>Most objects in <span class="in">`mlr3`</span> can be created through convenience functions called helper functions or <span class="in">`r index("sugar functions")`</span>.</span>
<span id="cb21-310"><a href="#cb21-310" aria-hidden="true" tabindex="-1"></a>They provide shortcuts for common code idioms, reducing the amount of code a user has to write.</span>
<span id="cb21-311"><a href="#cb21-311" aria-hidden="true" tabindex="-1"></a>For example <span class="in">`lrn("regr.rpart")`</span> is the sugar version of <span class="in">`LearnerRegrRpart$new()`</span>.</span>
<span id="cb21-312"><a href="#cb21-312" aria-hidden="true" tabindex="-1"></a>We heavily use sugar functions throughout this book and provide the equivalent "full form" for complete detail at the end of each chapter.</span>
<span id="cb21-313"><a href="#cb21-313" aria-hidden="true" tabindex="-1"></a>The sugar functions are designed to cover the majority of use cases for most users, knowledge about the full <span class="in">`R6`</span> backend is most commonly required if you want to build custom objects or extensions.</span>
<span id="cb21-314"><a href="#cb21-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-315"><a href="#cb21-315" aria-hidden="true" tabindex="-1"></a>Many object names in <span class="in">`mlr3`</span> are standardized according to the convention: <span class="in">`mlr_&lt;types&gt;_&lt;key&gt;`</span>.</span>
<span id="cb21-316"><a href="#cb21-316" aria-hidden="true" tabindex="-1"></a>Where <span class="in">`&lt;types&gt;`</span> will be <span class="in">`tasks`</span>, <span class="in">`learners`</span>, <span class="in">`measures`</span>, and other classes that will be covered in the book; and <span class="in">`&lt;key&gt;`</span> refers to the ID of the object.</span>
<span id="cb21-317"><a href="#cb21-317" aria-hidden="true" tabindex="-1"></a>To simplify the process of constructing objects, you only need to know the object key and the sugar function for construction.</span>
<span id="cb21-318"><a href="#cb21-318" aria-hidden="true" tabindex="-1"></a>For example: <span class="in">`mlr_tasks_mtcars`</span> becomes <span class="in">`tsk("mtcars")`</span>;<span class="in">`mlr_learners_regr.rpart`</span> becomes <span class="in">`lrn("regr.rpart")`</span>; and <span class="in">`mlr_measures_regr.mse`</span> becomes <span class="in">`msr("regr.mse")`</span>.</span>
<span id="cb21-319"><a href="#cb21-319" aria-hidden="true" tabindex="-1"></a>Therefore, for brevity, throughout this book, we will refer to all objects using this abbreviated form.</span>
<span id="cb21-320"><a href="#cb21-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-321"><a href="#cb21-321" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dictionaries {.unnumbered .unlisted}</span></span>
<span id="cb21-322"><a href="#cb21-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-323"><a href="#cb21-323" aria-hidden="true" tabindex="-1"></a><span class="in">`mlr3`</span> uses <span class="in">`r index('dictionaries')`</span> to store R6 classes, which associate keys (unique identifiers) with objects (R6 objects).</span>
<span id="cb21-324"><a href="#cb21-324" aria-hidden="true" tabindex="-1"></a>Values in dictionaries are often accessed through sugar functions that retrieve objects from the relevant dictionary, for example <span class="in">`lrn("regr.rpart")`</span> is a wrapper around <span class="in">`mlr_learners$get("regr.rpart")`</span> and is thus a simpler way to load a decision tree learner from the <span class="in">`r ref("mlr_learners")`</span>.</span>
<span id="cb21-325"><a href="#cb21-325" aria-hidden="true" tabindex="-1"></a>We use dictionaries to group large collections of relevant objects so they can be listed and retrieved easily.</span>
<span id="cb21-326"><a href="#cb21-326" aria-hidden="true" tabindex="-1"></a>For example, you can see an overview of available learners (that are in loaded packages) and their properties with <span class="in">`as.data.table(mlr_learners)`</span> or by calling the sugar function without any arguments, e.g. <span class="in">`lrn()`</span>.</span>
<span id="cb21-327"><a href="#cb21-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-328"><a href="#cb21-328" aria-hidden="true" tabindex="-1"></a><span class="fu">### mlr3viz {.unnumbered .unlisted}</span></span>
<span id="cb21-329"><a href="#cb21-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-330"><a href="#cb21-330" aria-hidden="true" tabindex="-1"></a><span class="in">`r mlr3viz`</span> includes all plotting functionality in <span class="in">`mlr3`</span> by using <span class="in">`r ref_pkg("ggplot2")`</span> under the hood.</span>
<span id="cb21-331"><a href="#cb21-331" aria-hidden="true" tabindex="-1"></a>We use <span class="in">`r ref("ggplot2::theme_minimal()")`</span> in all our plots to unify our aesthetic, but as with all <span class="in">`ggplot`</span> outputs, users can fully customize this.</span>
<span id="cb21-332"><a href="#cb21-332" aria-hidden="true" tabindex="-1"></a><span class="in">`r mlr3viz`</span> extends <span class="in">`fortify`</span> and <span class="in">`autoplot`</span> for use with common <span class="in">`r mlr3`</span> outputs including <span class="in">`r ref("Prediction")`</span>, <span class="in">`r ref("Learner")`</span>, and <span class="in">`r ref("BenchmarkResult")`</span> objects (which we will introduce and cover in the next chapters).</span>
<span id="cb21-333"><a href="#cb21-333" aria-hidden="true" tabindex="-1"></a>We will cover major plot types throughout the book but the best way to learn about <span class="in">`r mlr3viz`</span> is through experimentation, load the package and see what happens when you run <span class="in">`autoplot`</span> on an <span class="in">`mlr3`</span> object.</span>
<span id="cb21-334"><a href="#cb21-334" aria-hidden="true" tabindex="-1"></a>Plot types are documented in the respective manual page that can be accessed through <span class="in">`?autoplot.X`</span>, for example, you can find different types of plots for regression tasks by running <span class="in">`?autoplot.TaskRegr`</span>.</span>
<span id="cb21-335"><a href="#cb21-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-336"><a href="#cb21-336" aria-hidden="true" tabindex="-1"></a><span class="fu">## Design Principles</span></span>
<span id="cb21-337"><a href="#cb21-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-338"><a href="#cb21-338" aria-hidden="true" tabindex="-1"></a>{{&lt; include ../../common/_optional.qmd &gt;}}</span>
<span id="cb21-339"><a href="#cb21-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-340"><a href="#cb21-340" aria-hidden="true" tabindex="-1"></a>The <span class="in">`r ref_pkg("mlr")`</span>\index{mlr} package <span class="co">[</span><span class="ot">@mlr</span><span class="co">]</span> was first released on CRAN in 2013, with the core design and architecture dating back further.</span>
<span id="cb21-341"><a href="#cb21-341" aria-hidden="true" tabindex="-1"></a>Over time, the addition of many features led to a complex design that made it too difficult for us to extend further.</span>
<span id="cb21-342"><a href="#cb21-342" aria-hidden="true" tabindex="-1"></a>In hindsight, we saw that some design and architecture choices in <span class="in">`r ref_pkg("mlr")`</span> made it difficult to support new features, in particular with respect to ML pipelines.</span>
<span id="cb21-343"><a href="#cb21-343" aria-hidden="true" tabindex="-1"></a>So in 2018, we set about working on a reimplementation, which resulted in the first release of <span class="in">`r mlr3`</span> on CRAN in July 2019.</span>
<span id="cb21-344"><a href="#cb21-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-345"><a href="#cb21-345" aria-hidden="true" tabindex="-1"></a>Learning from our history, we now follow these design principles in the <span class="in">`mlr3`</span> ecosystem:</span>
<span id="cb21-346"><a href="#cb21-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-347"><a href="#cb21-347" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Object-oriented programming (OOP)**.</span>
<span id="cb21-348"><a href="#cb21-348" aria-hidden="true" tabindex="-1"></a>We embrace <span class="in">`r ref_pkg("R6")`</span> for a clean, object-oriented design, object state changes, and reference semantics.</span>
<span id="cb21-349"><a href="#cb21-349" aria-hidden="true" tabindex="-1"></a>This means that the state of common objects (e.g. tasks (@sec-tasks) and learners (@sec-learners)) is encapsulated within the object, for example, to keep track of whether a model has been trained, without the user having to worry about this.</span>
<span id="cb21-350"><a href="#cb21-350" aria-hidden="true" tabindex="-1"></a>We also use inheritance to specialize objects, e.g. all learners are derived from a common base class that provides basic functionality.</span>
<span id="cb21-351"><a href="#cb21-351" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Tabular data**.</span>
<span id="cb21-352"><a href="#cb21-352" aria-hidden="true" tabindex="-1"></a>Embrace <span class="in">`r ref_pkg("data.table")`</span> for its top-notch computation performance as well as tabular data as a structure that can be easily processed further.</span>
<span id="cb21-353"><a href="#cb21-353" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Unify input and output data formats.**</span>
<span id="cb21-354"><a href="#cb21-354" aria-hidden="true" tabindex="-1"></a>This considerably simplifies the API and allows easy selection and "split-apply-combine" (aggregation) operations.</span>
<span id="cb21-355"><a href="#cb21-355" aria-hidden="true" tabindex="-1"></a>We combine <span class="in">`data.table`</span> and <span class="in">`R6`</span> to place references to non-atomic and compound objects in tables and make heavy use of list columns.</span>
<span id="cb21-356"><a href="#cb21-356" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Defensive programming and type safety**.</span>
<span id="cb21-357"><a href="#cb21-357" aria-hidden="true" tabindex="-1"></a>All user input is checked with <span class="in">`r ref_pkg("checkmate")`</span> <span class="co">[</span><span class="ot">@checkmate</span><span class="co">]</span>.</span>
<span id="cb21-358"><a href="#cb21-358" aria-hidden="true" tabindex="-1"></a>We use <span class="in">`data.table`</span> which documents return types unlike other mechanisms popular in base R which "simplify" the result unpredictably (e.g., the <span class="in">`drop`</span> argument for indexing <span class="in">`data.frame`</span>s).</span>
<span id="cb21-359"><a href="#cb21-359" aria-hidden="true" tabindex="-1"></a>And we have extensive unit tests!</span>
<span id="cb21-360"><a href="#cb21-360" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Light on dependencies**.</span>
<span id="cb21-361"><a href="#cb21-361" aria-hidden="true" tabindex="-1"></a>One of the main maintenance burdens for <span class="in">`r ref_pkg("mlr")`</span> was to keep up with changing learner interfaces and behavior of the many packages it depended on.</span>
<span id="cb21-362"><a href="#cb21-362" aria-hidden="true" tabindex="-1"></a>We require far fewer packages in <span class="in">`r mlr3`</span>, which makes installation and maintenance easier.</span>
<span id="cb21-363"><a href="#cb21-363" aria-hidden="true" tabindex="-1"></a>We still provide the same functionality, but it is split into more packages that have fewer dependencies individually.</span>
<span id="cb21-364"><a href="#cb21-364" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Separation of computation and presentation**.</span>
<span id="cb21-365"><a href="#cb21-365" aria-hidden="true" tabindex="-1"></a>Most packages of the <span class="in">`r mlr3`</span> ecosystem focus on processing and transforming data, applying ML algorithms, and computing results.</span>
<span id="cb21-366"><a href="#cb21-366" aria-hidden="true" tabindex="-1"></a>Our core packages do not provide visualizations because their dependencies would make installation unnecessarily complex, especially on headless servers (i.e., computers without a monitor where graphical libraries are not installed).</span>
<span id="cb21-367"><a href="#cb21-367" aria-hidden="true" tabindex="-1"></a>Hence, visualizations of data and results are provided in <span class="in">`r mlr3viz`</span>.</span>
<span id="cb21-368"><a href="#cb21-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-369"><a href="#cb21-369" aria-hidden="true" tabindex="-1"></a>::: {.content-visible when-format="html"}</span>
<span id="cb21-370"><a href="#cb21-370" aria-hidden="true" tabindex="-1"></a><span class="in">`r citeas(chapter)`</span></span>
<span id="cb21-371"><a href="#cb21-371" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">All content licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> <br> © Bernd Bischl, Raphael Sonabend, Lars Kotthoff, Michel Lang.</div>   
    <div class="nav-footer-center"><a href="https://mlr-org.com">Website</a> | <a href="https://github.com/mlr-org/mlr3book">GitHub</a> | <a href="https://mlr-org.com/gallery">Gallery</a> | <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">Mattermost</a></div>
    <div class="nav-footer-right">Built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>


<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>